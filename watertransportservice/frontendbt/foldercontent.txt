
==================================================
üìÇ –§–∞–π–ª: \admin-script.js
==================================================

// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
const API_URL = 'https://web-production-240dc.up.railway.app/api';

// !!! –í–ù–ò–ú–ê–ù–ò–ï: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–¥–µ—Å—å –≤–∞—à API-–∫–ª—é—á (–ª—é–±—É—é —Å—Ç—Ä–æ–∫—É, –∫–æ—Ç–æ—Ä—É—é –≤—ã –ø—Ä–∏–¥—É–º–∞–µ—Ç–µ)
const ADMIN_API_KEY = 'admin_secret_key_2025'; 

let authToken = localStorage.getItem('adminToken');

// DOM —ç–ª–µ–º–µ–Ω—Ç—ã - –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–µ–∫—Ü–∏–∏
const loginSection = document.getElementById('login-section');
const adminDashboard = document.getElementById('admin-dashboard');
const loginForm = document.getElementById('login-form');
const logoutBtn = document.getElementById('logout-btn');

// –í–∫–ª–∞–¥–∫–∏
const tabButtons = document.querySelectorAll('.tab-btn');
const tabContents = document.querySelectorAll('.tab-content');

// –¢–∞–±–ª–∏—Ü—ã –∏ —ç–ª–µ–º–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∑–∫–∏
const toursTable = document.getElementById('tours-table');
const toursLoading = document.getElementById('tours-loading');
const toursEmpty = document.getElementById('tours-empty');
const bookingsTable = document.getElementById('bookings-table');
const bookingsLoading = document.getElementById('bookings-loading');
const bookingsEmpty = document.getElementById('bookings-empty');

// –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
const tourModal = document.getElementById('tour-modal');
const tourForm = document.getElementById('tour-form');
const tourModalTitle = document.getElementById('tour-modal-title');
const cancelTourBtn = document.getElementById('cancel-tour-btn');
const addTourBtn = document.getElementById('add-tour-btn');

const bookingModal = document.getElementById('booking-modal');
const closeBookingBtn = document.getElementById('close-booking-btn');
const changeStatusBtn = document.getElementById('change-status-btn');

// –§–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫
const tourSearch = document.getElementById('tour-search');
const bookingSearch = document.getElementById('booking-search');
const bookingStatusFilter = document.getElementById('booking-status-filter');

// –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞
const settingsForm = document.getElementById('settings-form');

// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫—Ä–µ—Å—Ç–∏–∫
document.querySelectorAll('.close-button').forEach(button => {
    button.addEventListener('click', function() {
        tourModal.style.display = 'none';
        bookingModal.style.display = 'none';
    });
});

// –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π —ç–∫—Å–∫—É—Ä—Å–∏–∏
addTourBtn.addEventListener('click', function() {
    tourModalTitle.textContent = '–î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–∫—É—Ä—Å–∏—é';
    tourForm.reset();
    document.getElementById('tour-id').value = '';
    
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –¥–∞—Ç—É - —Å–µ–≥–æ–¥–Ω—è
    const today = new Date();
    const formattedDate = today.toISOString().split('T')[0];
    document.getElementById('tour-date').min = formattedDate;
    
    tourModal.style.display = 'block';
});

// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç–∫—Å–∫—É—Ä—Å–∏–∏
cancelTourBtn.addEventListener('click', function() {
    tourModal.style.display = 'none';
});

// –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç–∫—Å–∫—É—Ä—Å–∏–∏
async function openTourEditModal(tourId) {
    tourModalTitle.textContent = '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —ç–∫—Å–∫—É—Ä—Å–∏—é';
    
    try {
        // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏ —Å —Å–µ—Ä–≤–µ—Ä–∞
        const response = await fetch(`${API_URL}/tours/${tourId}`);
        if (!response.ok) {
            throw new Error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö');
        }
        
        const tour = await response.json();
        
        // –ó–∞–ø–æ–ª–Ω—è–µ–º —Ñ–æ—Ä–º—É –¥–∞–Ω–Ω—ã–º–∏
        document.getElementById('tour-id').value = tour._id;
        document.getElementById('tour-name').value = tour.name;
        document.getElementById('tour-price').value = tour.price;
        
        // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –¥–∞—Ç—É –¥–ª—è –ø–æ–ª—è –≤–≤–æ–¥–∞ date
        const tourDate = new Date(tour.date);
        const formattedDate = tourDate.toISOString().split('T')[0];
        document.getElementById('tour-date').value = formattedDate;
        
        document.getElementById('tour-departure-time').value = tour.departureTime;
        document.getElementById('tour-return-time').value = tour.returnTime;
        document.getElementById('tour-capacity').value = tour.capacity || tour.availableSeats;
        document.getElementById('tour-available-seats').value = tour.availableSeats;
        document.getElementById('tour-description').value = tour.description;
        document.getElementById('tour-image').value = tour.imageUrl || '';
        
        // –û—Ç–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
        tourModal.style.display = 'block';
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö —ç–∫—Å–∫—É—Ä—Å–∏–∏: ' + error.message);
    }
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã —ç–∫—Å–∫—É—Ä—Å–∏–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)
tourForm.addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const tourId = document.getElementById('tour-id').value;
    const isEdit = !!tourId;
    
    try {
        // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã
        const formData = {
            name: document.getElementById('tour-name').value,
            price: parseInt(document.getElementById('tour-price').value),
            date: document.getElementById('tour-date').value,
            departureTime: document.getElementById('tour-departure-time').value,
            returnTime: document.getElementById('tour-return-time').value,
            capacity: parseInt(document.getElementById('tour-capacity').value),
            availableSeats: parseInt(document.getElementById('tour-available-seats').value),
            description: document.getElementById('tour-description').value,
            imageUrl: document.getElementById('tour-image').value
        };
        
        let url = `${API_URL}/tours`;
        let method = 'POST';
        
        if (isEdit) {
            url = `${API_URL}/tours/${tourId}`;
            method = 'PUT';
        }
        
        // –í –¥–µ–º–æ-–≤–µ—Ä—Å–∏–∏ –º—ã –Ω–µ –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API,
        // –∞ –ø—Ä–æ—Å—Ç–æ –∏–º–∏—Ç–∏—Ä—É–µ–º —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
        
        // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
        tourModal.style.display = 'none';
        
        // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ —ç–∫—Å–∫—É—Ä—Å–∏–π
        loadTours();
        
        alert(isEdit ? '–≠–∫—Å–∫—É—Ä—Å–∏—è —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∞!' : '–≠–∫—Å–∫—É—Ä—Å–∏—è —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞!');
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —ç–∫—Å–∫—É—Ä—Å–∏–∏: ' + error.message);
    }
});

// –£–¥–∞–ª–µ–Ω–∏–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏
async function deleteTour(tourId) {
    try {
        // –í –¥–µ–º–æ-–≤–µ—Ä—Å–∏–∏ –º—ã –Ω–µ –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API,
        // –∞ –ø—Ä–æ—Å—Ç–æ –∏–º–∏—Ç–∏—Ä—É–µ–º —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
        
        // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ —ç–∫—Å–∫—É—Ä—Å–∏–π
        loadTours();
        
        alert('–≠–∫—Å–∫—É—Ä—Å–∏—è —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞!');
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —ç–∫—Å–∫—É—Ä—Å–∏–∏: ' + error.message);
    }
}

// –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
function openBookingViewModal(bookingId) {
    try {
        // –í –¥–µ–º–æ-–≤–µ—Ä—Å–∏–∏ –º—ã –Ω–µ –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API,
        // –∞ –Ω–∞–π–¥–µ–º –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –Ω–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ –¥–∞–Ω–Ω—ã—Ö
        const booking = generateSampleBookings().find(b => b._id === bookingId);
        
        if (!booking) {
            throw new Error('–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ');
        }
        
        // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
        let statusText = '';
        switch (booking.paymentStatus) {
            case 'paid': statusText = '–û–ø–ª–∞—á–µ–Ω–æ'; break;
            case 'pending': statusText = '–û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã'; break;
            case 'canceled': statusText = '–û—Ç–º–µ–Ω–µ–Ω–æ'; break;
            default: statusText = '–°—Ç–∞—Ç—É—Å –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω';
        }
        
        // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç
        const bookingDate = new Date(booking.bookingDate);
        const formattedBookingDate = bookingDate.toLocaleDateString('ru-RU', {
            day: '2-digit',
            month: '2-digit',
            year: 'numeric',
            hour: '2-digit',
            minute: '2-digit'
        });
        
        const tourDate = new Date(booking.tourDate);
        const formattedTourDate = tourDate.toLocaleDateString('ru-RU', {
            day: '2-digit',
            month: '2-digit',
            year: 'numeric'
        });
        
        // –ó–∞–ø–æ–ª–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
        document.getElementById('booking-details').innerHTML = `
            <div class="booking-info-group">
                <p><strong>–ö–æ–¥ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:</strong> ${booking.confirmationCode}</p>
                <p><strong>–°—Ç–∞—Ç—É—Å –æ–ø–ª–∞—Ç—ã:</strong> <span class="status-badge status-${booking.paymentStatus}">${statusText}</span></p>
                <p><strong>–î–∞—Ç–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:</strong> ${formattedBookingDate}</p>
            </div>
            
            <div class="booking-info-group">
                <p><strong>–≠–∫—Å–∫—É—Ä—Å–∏—è:</strong> ${booking.tourName}</p>
                <p><strong>–î–∞—Ç–∞ —ç–∫—Å–∫—É—Ä—Å–∏–∏:</strong> ${formattedTourDate}</p>
                <p><strong>–í—Ä–µ–º—è:</strong> ${booking.departureTime} - ${booking.returnTime}</p>
            </div>
            
            <div class="booking-info-group">
                <p><strong>–ò–º—è –∫–ª–∏–µ–Ω—Ç–∞:</strong> ${booking.customerName}</p>
                <p><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> ${booking.customerPhone}</p>
                <p><strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤:</strong> ${booking.ticketsCount}</p>
                <p><strong>–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:</strong> ${booking.totalPrice} ‚ÇΩ</p>
            </div>
        `;
        
        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞—Ç—Ä–∏–±—É—Ç –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞
        changeStatusBtn.setAttribute('data-id', bookingId);
        changeStatusBtn.setAttribute('data-status', booking.paymentStatus);
        
        // –û—Ç–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
        bookingModal.style.display = 'block';
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è: ' + error.message);
    }
}

// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
closeBookingBtn.addEventListener('click', function() {
    bookingModal.style.display = 'none';
});

// –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
changeStatusBtn.addEventListener('click', function() {
    const bookingId = this.getAttribute('data-id');
    const currentStatus = this.getAttribute('data-status');
    
    let newStatus = '';
    let statusText = '';
    
    // –¶–∏–∫–ª–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤
    switch (currentStatus) {
        case 'pending':
            newStatus = 'paid';
            statusText = '–û–ø–ª–∞—á–µ–Ω–æ';
            break;
        case 'paid':
            newStatus = 'canceled';
            statusText = '–û—Ç–º–µ–Ω–µ–Ω–æ';
            break;
        case 'canceled':
        default:
            newStatus = 'pending';
            statusText = '–û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã';
    }
    
    try {
        // –í –¥–µ–º–æ-–≤–µ—Ä—Å–∏–∏ –º—ã –Ω–µ –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API,
        // –∞ –ø—Ä–æ—Å—Ç–æ –∏–º–∏—Ç–∏—Ä—É–µ–º —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –∞—Ç—Ä–∏–±—É—Ç –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
        this.setAttribute('data-status', newStatus);
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
        const statusBadge = document.querySelector('#booking-details .status-badge');
        statusBadge.className = `status-badge status-${newStatus}`;
        statusBadge.textContent = statusText;
        
        // –û–ø–æ–≤–µ—â–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        alert(`–°—Ç–∞—Ç—É—Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ "${statusText}"`);
        
        // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã
        loadBookings();
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è: ' + error.message);
    }
});

// –£–¥–∞–ª–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
function deleteBooking(bookingId) {
    try {
        // –í –¥–µ–º–æ-–≤–µ—Ä—Å–∏–∏ –º—ã –Ω–µ –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API,
        // –∞ –ø—Ä–æ—Å—Ç–æ –∏–º–∏—Ç–∏—Ä—É–µ–º —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
        
        // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
        loadBookings();
        
        alert('–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–æ!');
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è: ' + error.message);
    }
}

// –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å–∞–π—Ç–∞
function loadSettings() {
    try {
        // –í –¥–µ–º–æ-–≤–µ—Ä—Å–∏–∏ –º—ã –Ω–µ –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API,
        // –∞ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø–æ–ª–Ω–∏–º —Ñ–æ—Ä–º—É –ø—Ä–∏–º–µ—Ä–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
        document.getElementById('site-title').value = '–¢–µ–ø–ª–æ—Ö–æ–¥–Ω—ã–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏';
        document.getElementById('site-description').value = '–ù–µ–∑–∞–±—ã–≤–∞–µ–º—ã–µ –ø—Ä–æ–≥—É–ª–∫–∏ –ø–æ –≤–æ–¥–µ';
        document.getElementById('contact-phone').value = '+7 (999) 123-45-67';
        document.getElementById('contact-email').value = 'info@boat-tours.ru';
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫: ' + error.message);
    }
}

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å–∞–π—Ç–∞
settingsForm.addEventListener('submit', function(e) {
    e.preventDefault();
    
    try {
        // –í –¥–µ–º–æ-–≤–µ—Ä—Å–∏–∏ –º—ã –Ω–µ –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API,
        // –∞ –ø—Ä–æ—Å—Ç–æ –∏–º–∏—Ç–∏—Ä—É–µ–º —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
        
        alert('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!');
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫: ' + error.message);
    }
});

// –ü–æ–∏—Å–∫ —ç–∫—Å–∫—É—Ä—Å–∏–π
tourSearch.addEventListener('input', function() {
    const searchTerm = this.value.toLowerCase();
    
    // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ —Ç–∞–±–ª–∏—Ü—ã
    const rows = toursTable.querySelectorAll('tbody tr');
    
    rows.forEach(row => {
        const tourName = row.querySelector('td:first-child').textContent.toLowerCase();
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–ª–∏ —Å–∫—Ä—ã–≤–∞–µ–º —Å—Ç—Ä–æ–∫—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞
        if (tourName.includes(searchTerm)) {
            row.style.display = '';
        } else {
            row.style.display = 'none';
        }
    });
});

// –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
function filterBookings() {
    const searchTerm = bookingSearch.value.toLowerCase();
    const statusFilter = bookingStatusFilter.value;
    
    // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ —Ç–∞–±–ª–∏—Ü—ã
    const rows = bookingsTable.querySelectorAll('tbody tr');
    
    rows.forEach(row => {
        const code = row.querySelector('td:nth-child(1)').textContent.toLowerCase();
        const tourName = row.querySelector('td:nth-child(2)').textContent.toLowerCase();
        const customerName = row.querySelector('td:nth-child(3)').textContent.toLowerCase();
        const statusBadge = row.querySelector('.status-badge');
        const currentStatus = statusBadge ? statusBadge.className.includes('status-paid') ? 'paid'
                             : statusBadge.className.includes('status-pending') ? 'pending'
                             : statusBadge.className.includes('status-canceled') ? 'canceled'
                             : 'unknown' : 'unknown';
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ–∏—Å–∫–æ–≤–æ–º—É –∑–∞–ø—Ä–æ—Å—É –∏ —Ñ–∏–ª—å—Ç—Ä—É —Å—Ç–∞—Ç—É—Å–∞
        const matchesSearch = code.includes(searchTerm) || 
                              tourName.includes(searchTerm) || 
                              customerName.includes(searchTerm);
                              
        const matchesStatus = statusFilter === 'all' || currentStatus === statusFilter;
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–ª–∏ —Å–∫—Ä—ã–≤–∞–µ–º —Å—Ç—Ä–æ–∫—É
        if (matchesSearch && matchesStatus) {
            row.style.display = '';
        } else {
            row.style.display = 'none';
        }
    });
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
bookingSearch.addEventListener('input', filterBookings);
bookingStatusFilter.addEventListener('change', filterBookings);

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
document.addEventListener('DOMContentLoaded', function() {
    checkAuth();
});

// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –Ω–∏—Ö
window.addEventListener('click', function(event) {
    if (event.target === tourModal) {
        tourModal.style.display = 'none';
    }
    if (event.target === bookingModal) {
        bookingModal.style.display = 'none';
    }
});

// –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
tabButtons.forEach(button => {
    button.addEventListener('click', function() {
        // –£–¥–∞–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –≤–∫–ª–∞–¥–æ–∫
        tabButtons.forEach(btn => btn.classList.remove('active'));
        tabContents.forEach(content => content.style.display = 'none');
        
        // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –Ω–∞–∂–∞—Ç–æ–π –≤–∫–ª–∞–¥–∫–µ
        this.classList.add('active');
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç
        const tabId = this.getAttribute('data-tab');
        document.getElementById(`${tabId}-tab`).style.display = 'block';
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –≤–∫–ª–∞–¥–∫–∏
        if (tabId === 'tours') {
            loadTours();
        } else if (tabId === 'bookings') {
            loadBookings();
        } else if (tabId === 'settings') {
            loadSettings();
        }
    });
});

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
function checkAuth() {
    if (authToken) {
        // –ï—Å–ª–∏ –µ—Å—Ç—å —Ç–æ–∫–µ–Ω, –ø—Ä–æ–≤–µ—Ä—è–µ–º –µ–≥–æ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å
        verifyToken()
            .then(valid => {
                if (valid) {
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
                    showAdminPanel();
                } else {
                    // –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –ª–æ–≥–∏–Ω–∞
                    showLoginForm();
                }
            })
            .catch(error => {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–∞:', error);
                showLoginForm();
            });
    } else {
        // –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω–∞ –Ω–µ—Ç, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –ª–æ–≥–∏–Ω–∞
        showLoginForm();
    }
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —Ç–æ–∫–µ–Ω–∞
async function verifyToken() {
    try {
        // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –∑–¥–µ—Å—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å –∫ API –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–∞
        // –ü–æ–∫–∞ –ø—Ä–æ—Å—Ç–æ –∏–º–∏—Ç–∏—Ä—É–µ–º —É—Å–ø–µ—à–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É
        return true;
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–∞:', error);
        return false;
    }
}

// –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º—É –≤—Ö–æ–¥–∞
function showLoginForm() {
    loginSection.style.display = 'block';
    adminDashboard.style.display = 'none';
    localStorage.removeItem('adminToken');
    authToken = null;
}

// –ü–æ–∫–∞–∑–∞—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
function showAdminPanel() {
    loginSection.style.display = 'none';
    adminDashboard.style.display = 'block';
    
    // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏
    const activeTab = document.querySelector('.tab-btn.active').getAttribute('data-tab');
    if (activeTab === 'tours') {
        loadTours();
    } else if (activeTab === 'bookings') {
        loadBookings();
    } else if (activeTab === 'settings') {
        loadSettings();
    }
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥–∞
loginForm.addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;
    
    try {
        // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –∑–¥–µ—Å—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å –∫ API –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
        // –ü–æ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∑–∞–≥–ª—É—à–∫—É —Å –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
        if (username === 'admin' && password === 'admin123') {
            authToken = 'fake_token_for_development';
            localStorage.setItem('adminToken', authToken);
            showAdminPanel();
        } else {
            alert('–ù–µ–≤–µ—Ä–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –ø–∞—Ä–æ–ª—å');
        }
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞:', error);
        alert('–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞: ' + error.message);
    }
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã—Ö–æ–¥–∞
logoutBtn.addEventListener('click', function() {
    showLoginForm();
});

// –ó–∞–≥—Ä—É–∑–∫–∞ —ç–∫—Å–∫—É—Ä—Å–∏–π —Å —Å–µ—Ä–≤–µ—Ä–∞
async function loadTours() {
    toursLoading.style.display = 'block';
    toursTable.querySelector('tbody').innerHTML = '';
    toursEmpty.style.display = 'none';
    
    try {
        const response = await fetch(`${API_URL}/tours`);
        if (!response.ok) {
            throw new Error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö');
        }
        
        const tours = await response.json();
        displayTours(tours);
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        toursTable.querySelector('tbody').innerHTML = `
            <tr>
                <td colspan="6" class="error">–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —ç–∫—Å–∫—É—Ä—Å–∏–π: ${error.message}</td>
            </tr>
        `;
    } finally {
        toursLoading.style.display = 'none';
    }
}

// –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —ç–∫—Å–∫—É—Ä—Å–∏–π –≤ —Ç–∞–±–ª–∏—Ü–µ
function displayTours(tours) {
    const tbody = toursTable.querySelector('tbody');
    
    if (tours.length === 0) {
        toursEmpty.style.display = 'block';
        return;
    }
    
    tours.forEach(tour => {
        const date = new Date(tour.date);
        const formattedDate = date.toLocaleDateString('ru-RU', {
            day: '2-digit',
            month: '2-digit',
            year: 'numeric'
        });
        
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${tour.name}</td>
            <td>${formattedDate}</td>
            <td>${tour.departureTime} - ${tour.returnTime}</td>
            <td>${tour.price} ‚ÇΩ</td>
            <td>${tour.availableSeats} / ${tour.capacity || tour.availableSeats}</td>
            <td>
                <div class="action-buttons">
                    <button class="action-btn edit-btn" data-id="${tour._id}">–ò–∑–º–µ–Ω–∏—Ç—å</button>
                    <button class="action-btn delete-btn" data-id="${tour._id}">–£–¥–∞–ª–∏—Ç—å</button>
                </div>
            </td>
        `;
        
        tbody.appendChild(row);
    });
    
    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è
    tbody.querySelectorAll('.edit-btn').forEach(button => {
        button.addEventListener('click', function() {
            const tourId = this.getAttribute('data-id');
            openTourEditModal(tourId);
        });
    });
    
    tbody.querySelectorAll('.delete-btn').forEach(button => {
        button.addEventListener('click', function() {
            const tourId = this.getAttribute('data-id');
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É —ç–∫—Å–∫—É—Ä—Å–∏—é?')) {
                deleteTour(tourId);
            }
        });
    });
}

// –ó–∞–≥—Ä—É–∑–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π —Å —Å–µ—Ä–≤–µ—Ä–∞
async function loadBookings() {
    bookingsLoading.style.display = 'block';
    bookingsTable.querySelector('tbody').innerHTML = '';
    bookingsEmpty.style.display = 'none';
    
    try {
        // –í –¥–µ–º–æ-–≤–µ—Ä—Å–∏–∏ –º—ã –Ω–µ –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∫ API –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π,
        // –∞ –ø—Ä–æ—Å—Ç–æ —Å–æ–∑–¥–∞–¥–∏–º –∑–∞–≥–ª—É—à–∫—É —Å –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
        const bookings = generateSampleBookings();
        setTimeout(() => {
            displayBookings(bookings);
            bookingsLoading.style.display = 'none';
        }, 500); // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ —Å–µ—Ç–∏
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        bookingsTable.querySelector('tbody').innerHTML = `
            <tr>
                <td colspan="9" class="error">–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π: ${error.message}</td>
            </tr>
        `;
        bookingsLoading.style.display = 'none';
    }
}

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
function generateSampleBookings() {
    return [
        {
            _id: 'booking1',
            confirmationCode: 'ABC123',
            tourId: 'tour1',
            tourName: '–û–±–∑–æ—Ä–Ω–∞—è —ç–∫—Å–∫—É—Ä—Å–∏—è –ø–æ –∫–∞–Ω–∞–ª–∞–º',
            tourDate: '2025-04-20',
            departureTime: '10:00',
            returnTime: '12:00',
            customerName: '–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤',
            customerPhone: '+7 (901) 123-45-67',
            ticketsCount: 2,
            totalPrice: 3000,
            paymentStatus: 'pending',
            bookingDate: '2025-04-11T15:20:10Z'
        },
        {
            _id: 'booking2',
            confirmationCode: 'DEF456',
            tourId: 'tour2',
            tourName: '–í–µ—á–µ—Ä–Ω—è—è –ø—Ä–æ–≥—É–ª–∫–∞',
            tourDate: '2025-04-21',
            departureTime: '18:00',
            returnTime: '20:00',
            customerName: '–ú–∞—Ä–∏—è –ò–≤–∞–Ω–æ–≤–∞',
            customerPhone: '+7 (902) 987-65-43',
            ticketsCount: 1,
            totalPrice: 1500,
            paymentStatus: 'paid',
            bookingDate: '2025-04-10T10:15:30Z'
        },
        {
            _id: 'booking3',
            confirmationCode: 'GHI789',
            tourId: 'tour3',
            tourName: '–ù–æ—á–Ω–∞—è —ç–∫—Å–∫—É—Ä—Å–∏—è',
            tourDate: '2025-04-22',
            departureTime: '21:00',
            returnTime: '23:00',
            customerName: '–ê–ª–µ–∫—Å–µ–π –°–º–∏—Ä–Ω–æ–≤',
            customerPhone: '+7 (903) 456-78-90',
            ticketsCount: 3,
            totalPrice: 4500,
            paymentStatus: 'canceled',
            bookingDate: '2025-04-12T12:30:45Z'
        }
    ];
}

// –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –≤ —Ç–∞–±–ª–∏—Ü–µ
function displayBookings(bookings) {
    const tbody = bookingsTable.querySelector('tbody');
    
    if (bookings.length === 0) {
        bookingsEmpty.style.display = 'block';
        return;
    }
    
    bookings.forEach(booking => {
        const bookingDate = new Date(booking.bookingDate);
        const formattedDate = bookingDate.toLocaleDateString('ru-RU', {
            day: '2-digit',
            month: '2-digit',
            year: 'numeric',
            hour: '2-digit',
            minute: '2-digit'
        });
        
        // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞ –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞
        let statusClass = '';
        let statusText = '';
        
        switch (booking.paymentStatus) {
            case 'paid':
                statusClass = 'status-paid';
                statusText = '–û–ø–ª–∞—á–µ–Ω–æ';
                break;
            case 'pending':
                statusClass = 'status-pending';
                statusText = '–û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã';
                break;
            case 'canceled':
                statusClass = 'status-canceled';
                statusText = '–û—Ç–º–µ–Ω–µ–Ω–æ';
                break;
            default:
                statusClass = '';
                statusText = '–°—Ç–∞—Ç—É—Å –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω';
        }
        
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${booking.confirmationCode}</td>
            <td>${booking.tourName}</td>
            <td>${booking.customerName}</td>
            <td>${booking.customerPhone}</td>
            <td>${booking.ticketsCount}</td>
            <td>${booking.totalPrice} ‚ÇΩ</td>
            <td><span class="status-badge ${statusClass}">${statusText}</span></td>
            <td>${formattedDate}</td>
            <td>
                <div class="action-buttons">
                    <button class="action-btn view-btn" data-id="${booking._id}">–ü—Ä–æ—Å–º–æ—Ç—Ä</button>
                    <button class="action-btn delete-btn" data-id="${booking._id}">–£–¥–∞–ª–∏—Ç—å</button>
                </div>
            </td>
        `;
        
        tbody.appendChild(row);
    });
    
    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ —É–¥–∞–ª–µ–Ω–∏—è
    tbody.querySelectorAll('.view-btn').forEach(button => {
        button.addEventListener('click', function() {
            const bookingId = this.getAttribute('data-id');
            openBookingViewModal(bookingId);
        });
    });
    
    tbody.querySelectorAll('.delete-btn').forEach(button => {
        button.addEventListener('click', function() {
            const bookingId = this.getAttribute('data-id');
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ?')) {
                deleteBooking(bookingId);
            }
        });
    });
}

--------------------------------------------------

==================================================
üìÇ –§–∞–π–ª: \admin-styles.css
==================================================

/* –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–Ω–µ–ª–∏ */

:root {
  --admin-primary: #2c3e50;
  --admin-secondary: #3498db;
  --admin-accent: #e74c3c;
  --admin-light: #ecf0f1;
  --admin-success: #2ecc71;
  --admin-warning: #f39c12;
  --admin-danger: #e74c3c;
}

.admin-container {
  background-color: white;
  padding: 2rem;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  margin: 2rem auto;
}

.admin-section {
  margin-bottom: 2rem;
}

.admin-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 2rem;
}

.admin-form {
  max-width: 800px;
  margin: 0 auto;
}

.form-row {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  margin-bottom: 1rem;
}

.form-row .form-group {
  flex: 1;
  min-width: 200px;
}

.admin-tabs {
  display: flex;
  margin-bottom: 2rem;
  border-bottom: 1px solid #ddd;
}

.tab-btn {
  padding: 0.8rem 1.5rem;
  background: none;
  border: none;
  border-bottom: 3px solid transparent;
  font-size: 1rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s;
}

.tab-btn:hover {
  background-color: #f5f5f5;
}

.tab-btn.active {
  border-bottom: 3px solid var(--admin-secondary);
  color: var(--admin-secondary);
}

.tab-content {
  padding: 1rem 0;
}

.content-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1.5rem;
}

.search-filter {
  display: flex;
  gap: 1rem;
  margin-bottom: 1.5rem;
}

.search-filter input {
  flex: 1;
  padding: 0.7rem;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.search-filter select {
  padding: 0.7rem;
  border: 1px solid #ddd;
  border-radius: 4px;
  min-width: 150px;
}

.table-container {
  overflow-x: auto;
  margin-bottom: 2rem;
}

.admin-table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 1rem;
}

.admin-table th,
.admin-table td {
  padding: 0.75rem;
  text-align: left;
  border-bottom: 1px solid #ddd;
}

.admin-table th {
  background-color: #f5f5f5;
  font-weight: 600;
}

.admin-table tbody tr:hover {
  background-color: #f9f9f9;
}

.action-buttons {
  display: flex;
  gap: 0.5rem;
}

.action-btn {
  padding: 0.4rem 0.8rem;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 0.9rem;
}

.edit-btn {
  background-color: var(--admin-secondary);
  color: white;
}

.delete-btn {
  background-color: var(--admin-danger);
  color: white;
}

.view-btn {
  background-color: var(--admin-light);
  color: var(--admin-primary);
}

.status-badge {
  display: inline-block;
  padding: 0.25rem 0.6rem;
  border-radius: 20px;
  font-size: 0.85rem;
  font-weight: 500;
}

.status-paid {
  background-color: #e6f7ee;
  color: var(--admin-success);
}

.status-pending {
  background-color: #fff6e6;
  color: var(--admin-warning);
}

.status-canceled {
  background-color: #fdeaea;
  color: var(--admin-danger);
}

.empty-message {
  text-align: center;
  padding: 2rem;
  color: #666;
  font-style: italic;
}

.wide-modal .modal-content {
  width: 90%;
  max-width: 800px;
}

.booking-details {
  margin-bottom: 1.5rem;
}

.booking-details p {
  margin-bottom: 0.5rem;
}

.booking-info-group {
  padding: 1rem;
  background-color: #f5f7fa;
  border-radius: 4px;
  margin-bottom: 1rem;
}

.form-buttons {
  display: flex;
  justify-content: flex-end;
  gap: 1rem;
  margin-top: 1.5rem;
}

.status-btn {
  background-color: var(--admin-warning);
  color: white;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
@media (max-width: 768px) {
  .admin-header, .content-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 1rem;
  }
  
  .admin-tabs {
    flex-wrap: wrap;
  }
  
  .search-filter {
    flex-direction: column;
  }
  
  .action-buttons {
    flex-direction: column;
  }
}

--------------------------------------------------

==================================================
üìÇ –§–∞–π–ª: \admin.html
==================================================

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ | –¢–µ–ø–ª–æ—Ö–æ–¥–Ω—ã–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="admin-styles.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h1>
            <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–ø–ª–æ—Ö–æ–¥–Ω—ã–º–∏ —ç–∫—Å–∫—É—Ä—Å–∏—è–º–∏</p>
        </div>
    </header>

    <main class="container admin-container">
        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–æ–≥–∏–Ω–∞ -->
        <div id="login-section" class="admin-section">
            <h2>–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h2>
            <form id="login-form" class="admin-form">
                <div class="form-group">
                    <label for="username">–õ–æ–≥–∏–Ω:</label>
                    <input type="text" id="username" name="username" required>
                </div>
                <div class="form-group">
                    <label for="password">–ü–∞—Ä–æ–ª—å:</label>
                    <input type="password" id="password" name="password" required>
                </div>
                <button type="submit" class="btn primary-btn">–í–æ–π—Ç–∏</button>
            </form>
        </div>

        <!-- –ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (—Å–∫—Ä—ã—Ç–∞ –¥–æ –≤—Ö–æ–¥–∞) -->
        <div id="admin-dashboard" class="admin-section" style="display: none;">
            <div class="admin-header">
                <h2>–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h2>
                <button id="logout-btn" class="btn">–í—ã–π—Ç–∏</button>
            </div>

            <div class="admin-tabs">
                <button class="tab-btn active" data-tab="tours">–≠–∫—Å–∫—É—Ä—Å–∏–∏</button>
                <button class="tab-btn" data-tab="bookings">–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</button>
                <button class="tab-btn" data-tab="settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
            </div>

            <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–∫—Å–∫—É—Ä—Å–∏—è–º–∏ -->
            <div id="tours-tab" class="tab-content">
                <div class="content-header">
                    <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–∫—Å–∫—É—Ä—Å–∏—è–º–∏</h3>
                    <button id="add-tour-btn" class="btn primary-btn">–î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–∫—É—Ä—Å–∏—é</button>
                </div>

                <div class="search-filter">
                    <input type="text" id="tour-search" placeholder="–ü–æ–∏—Å–∫ —ç–∫—Å–∫—É—Ä—Å–∏–π...">
                </div>

                <div class="table-container">
                    <table id="tours-table" class="admin-table">
                        <thead>
                            <tr>
                                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                                <th>–î–∞—Ç–∞</th>
                                <th>–í—Ä–µ–º—è</th>
                                <th>–¶–µ–Ω–∞</th>
                                <th>–ú–µ—Å—Ç –¥–æ—Å—Ç—É–ø–Ω–æ</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                        </tbody>
                    </table>
                    <div id="tours-loading" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ —ç–∫—Å–∫—É—Ä—Å–∏–π...</div>
                    <div id="tours-empty" class="empty-message" style="display: none;">–≠–∫—Å–∫—É—Ä—Å–∏–π –Ω–µ –Ω–∞–π–¥–µ–Ω–æ. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é —ç–∫—Å–∫—É—Ä—Å–∏—é.</div>
                </div>
            </div>

            <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏ -->
            <div id="bookings-tab" class="tab-content" style="display: none;">
                <div class="content-header">
                    <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏</h3>
                </div>

                <div class="search-filter">
                    <input type="text" id="booking-search" placeholder="–ü–æ–∏—Å–∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π...">
                    <select id="booking-status-filter">
                        <option value="all">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                        <option value="paid">–û–ø–ª–∞—á–µ–Ω–æ</option>
                        <option value="pending">–û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã</option>
                        <option value="canceled">–û—Ç–º–µ–Ω–µ–Ω–æ</option>
                    </select>
                </div>

                <div class="table-container">
                    <table id="bookings-table" class="admin-table">
                        <thead>
                            <tr>
                                <th>–ö–æ–¥</th>
                                <th>–≠–∫—Å–∫—É—Ä—Å–∏—è</th>
                                <th>–ö–ª–∏–µ–Ω—Ç</th>
                                <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
                                <th>–ë–∏–ª–µ—Ç—ã</th>
                                <th>–°—É–º–º–∞</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                                <th>–î–∞—Ç–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                        </tbody>
                    </table>
                    <div id="bookings-loading" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π...</div>
                    <div id="bookings-empty" class="empty-message" style="display: none;">–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.</div>
                </div>
            </div>

            <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞ -->
            <div id="settings-tab" class="tab-content" style="display: none;">
                <div class="content-header">
                    <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞</h3>
                </div>

                <form id="settings-form" class="admin-form">
                    <div class="form-group">
                        <label for="site-title">–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∞–π—Ç–∞:</label>
                        <input type="text" id="site-title" name="siteTitle">
                    </div>
                    <div class="form-group">
                        <label for="site-description">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                        <textarea id="site-description" name="siteDescription" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="contact-phone">–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω:</label>
                        <input type="tel" id="contact-phone" name="contactPhone">
                    </div>
                    <div class="form-group">
                        <label for="contact-email">Email:</label>
                        <input type="email" id="contact-email" name="contactEmail">
                    </div>
                    <button type="submit" class="btn primary-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                </form>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç–∫—Å–∫—É—Ä—Å–∏–∏ -->
        <div id="tour-modal" class="modal">
            <div class="modal-content wide-modal">
                <span class="close-button">&times;</span>
                <h2 id="tour-modal-title">–î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–∫—É—Ä—Å–∏—é</h2>
                <form id="tour-form" class="admin-form">
                    <input type="hidden" id="tour-id" name="tourId">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="tour-name">–ù–∞–∑–≤–∞–Ω–∏–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏:</label>
                            <input type="text" id="tour-name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="tour-price">–¶–µ–Ω–∞ (‚ÇΩ):</label>
                            <input type="number" id="tour-price" name="price" min="0" step="50" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="tour-date">–î–∞—Ç–∞:</label>
                            <input type="date" id="tour-date" name="date" required>
                        </div>
                        <div class="form-group">
                            <label for="tour-departure-time">–í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è:</label>
                            <input type="time" id="tour-departure-time" name="departureTime" required>
                        </div>
                        <div class="form-group">
                            <label for="tour-return-time">–í—Ä–µ–º—è –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è:</label>
                            <input type="time" id="tour-return-time" name="returnTime" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="tour-capacity">–û–±—â–∞—è –≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:</label>
                            <input type="number" id="tour-capacity" name="capacity" min="1" required>
                        </div>
                        <div class="form-group">
                            <label for="tour-available-seats">–î–æ—Å—Ç—É–ø–Ω–æ –º–µ—Å—Ç:</label>
                            <input type="number" id="tour-available-seats" name="availableSeats" min="0" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="tour-description">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                        <textarea id="tour-description" name="description" rows="4" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="tour-image">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (URL):</label>
                        <input type="text" id="tour-image" name="imageUrl" placeholder="https://example.com/image.jpg">
                    </div>
                    <div class="form-buttons">
                        <button type="button" class="btn" id="cancel-tour-btn">–û—Ç–º–µ–Ω–∞</button>
                        <button type="submit" class="btn primary-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è -->
        <div id="booking-modal" class="modal">
            <div class="modal-content">
                <span class="close-button">&times;</span>
                <h2>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏</h2>
                <div id="booking-details" class="booking-details">
                    <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                </div>
                <div class="form-buttons">
                    <button type="button" class="btn" id="close-booking-btn">–ó–∞–∫—Ä—ã—Ç—å</button>
                    <button type="button" class="btn status-btn" id="change-status-btn">–ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å</button>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 –¢–µ–ø–ª–æ—Ö–æ–¥–Ω—ã–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </div>
    </footer>

    <script src="admin-script.js"></script>
</body>
</html>

--------------------------------------------------

==================================================
üìÇ –§–∞–π–ª: \index.html
==================================================

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ–ø–ª–æ—Ö–æ–¥–Ω—ã–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>–¢–µ–ø–ª–æ—Ö–æ–¥–Ω—ã–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏</h1>
            <p>–ù–µ–∑–∞–±—ã–≤–∞–µ–º—ã–µ –ø—Ä–æ–≥—É–ª–∫–∏ –ø–æ –≤–æ–¥–µ</p>
        </div>
    </header>

    <main class="container">
        <section class="intro">
            <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h2>
            <p>–í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–Ω—É –∏–∑ –Ω–∞—à–∏—Ö —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —ç–∫—Å–∫—É—Ä—Å–∏–π –∏ –Ω–∞—Å–ª–∞–¥–∏—Ç–µ—Å—å –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–º–∏ –≤–∏–¥–∞–º–∏ —Å –≤–æ–¥—ã.</p>
            <div class="actions">
                <a href="verify.html" class="btn">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</a>
            </div>
        </section>

        <section class="tours">
            <h2>–ë–ª–∏–∂–∞–π—à–∏–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏</h2>
            <div id="tours-container" class="tours-grid">
                <!-- –°—é–¥–∞ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —ç–∫—Å–∫—É—Ä—Å–∏–∏ —Å —Å–µ—Ä–≤–µ—Ä–∞ -->
                <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ —ç–∫—Å–∫—É—Ä—Å–∏–π...</div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 –¢–µ–ø–ª–æ—Ö–æ–¥–Ω—ã–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </div>
    </footer>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è -->
    <div id="booking-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —ç–∫—Å–∫—É—Ä—Å–∏—é</h2>
            <div id="booking-details"></div>
            <form id="booking-form">
                <input type="hidden" id="tour-id" name="tourId">
                <div class="form-group">
                    <label for="customer-name">–í–∞—à–µ –∏–º—è:</label>
                    <input type="text" id="customer-name" name="customerName" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –ø–æ–ª–Ω–æ–µ –∏–º—è" required>
                </div>
                <div class="form-group">
                    <label for="customer-phone">–¢–µ–ª–µ—Ñ–æ–Ω:</label>
                    <input type="tel" id="customer-phone" name="customerPhone" placeholder="+7 (___) ___-__-__" required>
                </div>
                <div class="form-group">
                    <label for="tickets-count">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤:</label>
                    <input type="number" id="tickets-count" name="ticketsCount" min="1" max="10" value="1" required>
                </div>
                <button type="submit" class="btn primary-btn">–ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø–ª–∞—Ç–µ</button>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>

--------------------------------------------------

==================================================
üìÇ –§–∞–π–ª: \papka.zip
==================================================

‚ö† –§–∞–π–ª –Ω–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–π (–±–∏–Ω–∞—Ä–Ω—ã–π/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ)

--------------------------------------------------

==================================================
üìÇ –§–∞–π–ª: \script.js
==================================================

// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
const API_URL = 'https://web-production-240dc.up.railway.app/api';

// DOM —ç–ª–µ–º–µ–Ω—Ç—ã
const toursContainer = document.getElementById('tours-container');
const bookingModal = document.getElementById('booking-modal');
const closeButton = document.querySelector('.close-button');
const bookingForm = document.getElementById('booking-form');
const bookingDetails = document.getElementById('booking-details');
const tourIdInput = document.getElementById('tour-id');
const ticketsCountInput = document.getElementById('tickets-count');
const customerNameInput = document.getElementById('customer-name');
const customerPhoneInput = document.getElementById('customer-phone');

// –¢–µ–∫—É—â–∞—è –≤—ã–±—Ä–∞–Ω–Ω–∞—è —ç–∫—Å–∫—É—Ä—Å–∏—è
let currentTour = null;

// –ó–∞–≥—Ä—É–∑–∫–∞ —ç–∫—Å–∫—É—Ä—Å–∏–π —Å —Å–µ—Ä–≤–µ—Ä–∞
async function loadTours() {
    try {
        const response = await fetch(`${API_URL}/tours`);
        if (!response.ok) {
            throw new Error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö');
        }
        
        const tours = await response.json();
        displayTours(tours);
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        toursContainer.innerHTML = `<div class="error">–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —ç–∫—Å–∫—É—Ä—Å–∏–π. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.</div>`;
    }
}

// –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —ç–∫—Å–∫—É—Ä—Å–∏–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
function displayTours(tours) {
    if (tours.length === 0) {
        toursContainer.innerHTML = '<div class="no-tours">–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —ç–∫—Å–∫—É—Ä—Å–∏–π</div>';
        return;
    }
    
    toursContainer.innerHTML = tours.map(tour => {
        // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã
        const date = new Date(tour.date);
        const formattedDate = date.toLocaleDateString('ru-RU', {
            day: '2-digit',
            month: '2-digit',
            year: 'numeric'
        });
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –º–µ—Å—Ç
        const soldOut = tour.availableSeats <= 0;
        const buttonHTML = soldOut 
            ? `<button class="btn disabled-btn" disabled>–ù–µ—Ç –º–µ—Å—Ç</button>`
            : `<button class="btn primary-btn" onclick="openBooking('${tour._id}')">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</button>`;
        
        return `
            <div class="tour-card">
                <div class="tour-image" style="background-image: url('${tour.imageUrl || 'images/default-boat.jpg'}')"></div>
                <div class="tour-content">
                    <h3>${tour.name}</h3>
                    <div class="tour-meta">
                        <span>–î–∞—Ç–∞: ${formattedDate}</span><br>
                        <span>–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: ${tour.departureTime}</span><br>
                        <span>–í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ: ${tour.returnTime}</span>
                    </div>
                    <p>${tour.description}</p>
                    <span class="price">${tour.price} ‚ÇΩ / —á–µ–ª–æ–≤–µ–∫</span>
                    <span class="seats">–°–≤–æ–±–æ–¥–Ω—ã—Ö –º–µ—Å—Ç: ${tour.availableSeats}</span>
                    ${buttonHTML}
                </div>
            </div>
        `;
    }).join('');
}

// –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
async function openBooking(tourId) {
    try {
        const response = await fetch(`${API_URL}/tours/${tourId}`);
        if (!response.ok) {
            throw new Error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö –æ —ç–∫—Å–∫—É—Ä—Å–∏–∏');
        }
        
        const tour = await response.json();
        currentTour = tour;
        
        // –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
        const date = new Date(tour.date);
        const formattedDate = date.toLocaleDateString('ru-RU', {
            day: '2-digit',
            month: '2-digit',
            year: 'numeric'
        });
        
        bookingDetails.innerHTML = `
            <div class="booking-tour-info">
                <h3>${tour.name}</h3>
                <p>–î–∞—Ç–∞: ${formattedDate}</p>
                <p>–í—Ä–µ–º—è: ${tour.departureTime} - ${tour.returnTime}</p>
                <p>–¶–µ–Ω–∞: ${tour.price} ‚ÇΩ / —á–µ–ª–æ–≤–µ–∫</p>
                <p>–î–æ—Å—Ç—É–ø–Ω–æ –º–µ—Å—Ç: ${tour.availableSeats}</p>
            </div>
        `;
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã
        ticketsCountInput.max = tour.availableSeats;
        ticketsCountInput.value = 1;
        updateTotalPrice();
        
        // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ ID —ç–∫—Å–∫—É—Ä—Å–∏–∏ –≤ —Å–∫—Ä—ã—Ç–æ–µ –ø–æ–ª–µ —Ñ–æ—Ä–º—ã
        tourIdInput.value = tourId;
        
        // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
        bookingModal.style.display = 'block';
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        alert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö –æ —ç–∫—Å–∫—É—Ä—Å–∏–∏');
    }
}

// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
function closeModal() {
    bookingModal.style.display = 'none';
    bookingForm.reset();
    currentTour = null;
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—â–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–∏–ª–µ—Ç–æ–≤
function updateTotalPrice() {
    if (!currentTour) return;
    
    const ticketsCount = parseInt(ticketsCountInput.value) || 1;
    const totalPrice = currentTour.price * ticketsCount;
    
    const totalPriceElement = document.getElementById('total-price');
    if (totalPriceElement) {
        totalPriceElement.textContent = `${totalPrice} ‚ÇΩ`;
    } else {
        const priceInfoDiv = document.createElement('div');
        priceInfoDiv.classList.add('price-info');
        priceInfoDiv.innerHTML = `
            <p>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤: <span id="tickets-summary">${ticketsCount}</span></p>
            <p>–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: <span id="total-price">${totalPrice} ‚ÇΩ</span></p>
        `;
        bookingDetails.appendChild(priceInfoDiv);
    }
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–∏–ª–µ—Ç–æ–≤
ticketsCountInput.addEventListener('change', function() {
    const ticketsCount = parseInt(this.value) || 1;
    document.getElementById('tickets-summary').textContent = ticketsCount;
    updateTotalPrice();
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
bookingForm.addEventListener('submit', async function(e) {
    e.preventDefault();
    
    try {
        const formData = {
            tourId: tourIdInput.value,
            customerName: customerNameInput.value,
            customerPhone: customerPhoneInput.value,
            ticketsCount: parseInt(ticketsCountInput.value)
        };
        
        // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
        const bookingResponse = await fetch(`${API_URL}/bookings`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(formData)
        });
        
        const bookingData = await bookingResponse.json();
        
        if (!bookingResponse.ok) {
            throw new Error(bookingData.error || '–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è');
        }
        
        // –ò–º–∏—Ç–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–∞
        const paymentResponse = await fetch(`${API_URL}/payments/process`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ bookingId: bookingData.bookingId })
        });
        
        const paymentData = await paymentResponse.json();
        
        if (!paymentResponse.ok) {
            throw new Error(paymentData.error || '–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –ø–ª–∞—Ç–µ–∂–∞');
        }
        
        // –ü–æ–∫–∞–∑ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É—Å–ø–µ—à–Ω–æ–º –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏
        showBookingConfirmation(bookingData);
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        alert(`–û—à–∏–±–∫–∞: ${error.message}`);
    }
});

// –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
function showBookingConfirmation(bookingData) {
    // –ó–∞–º–µ–Ω—è–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –Ω–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
    const modalContent = document.querySelector('.modal-content');
    modalContent.innerHTML = `
        <span class="close-button">&times;</span>
        <div class="booking-confirmation">
            <h2>–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ!</h2>
            <p>–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –∑–∞–∫–∞–∑. –í–∞—à–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ.</p>
            <div class="confirmation-details">
                <p><strong>–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:</strong> ${bookingData.confirmationCode}</p>
                <p><strong>–°—É–º–º–∞:</strong> ${bookingData.totalPrice} ‚ÇΩ</p>
            </div>
            <p class="confirmation-note">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è. –û–Ω –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–∏ –ø–æ—Å–∞–¥–∫–µ –Ω–∞ —Ç–µ–ø–ª–æ—Ö–æ–¥.</p>
            <button class="btn primary-btn" onclick="closeAndRefresh()">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    `;
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ –∑–∞–∫—Ä—ã—Ç–∏—è
    document.querySelector('.close-button').addEventListener('click', closeAndRefresh);
}

// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —ç–∫—Å–∫—É—Ä—Å–∏–π
function closeAndRefresh() {
    closeModal();
    loadTours(); // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ —ç–∫—Å–∫—É—Ä—Å–∏–π, —á—Ç–æ–±—ã –æ—Ç—Ä–∞–∑–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
closeButton.addEventListener('click', closeModal);
window.addEventListener('click', function(e) {
    if (e.target === bookingModal) {
        closeModal();
    }
});

// –ó–∞–≥—Ä—É–∑–∫–∞ —ç–∫—Å–∫—É—Ä—Å–∏–π –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', loadTours);

--------------------------------------------------

==================================================
üìÇ –§–∞–π–ª: \styles.css
==================================================

:root {
    --primary-color: #0066cc;
    --secondary-color: #004d99;
    --accent-color: #ff9900;
    --light-color: #f5f7fa;
    --dark-color: #333;
    --gray-color: #f0f0f0;
    --border-radius: 4px;
    --shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.6;
    color: var(--dark-color);
    background-color: var(--light-color);
}

a {
    color: var(--primary-color);
    text-decoration: none;
}

img {
    max-width: 100%;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

/* Header */
header {
    background-color: var(--primary-color);
    color: white;
    padding: 2rem 0;
    text-align: center;
}

header h1 {
    margin-bottom: 0.5rem;
}

/* Main content */
main {
    padding: 2rem 0;
}

.intro {
    text-align: center;
    margin-bottom: 2rem;
}

.intro .actions {
    margin-top: 1.5rem;
}

.text-center {
    text-align: center;
    margin: 2rem 0;
}

.tours-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 2rem;
}

.tour-card {
    background: white;
    border-radius: var(--border-radius);
    overflow: hidden;
    box-shadow: var(--shadow);
    transition: transform 0.3s;
}

.tour-card:hover {
    transform: translateY(-5px);
}

.tour-image {
    height: 200px;
    background-size: cover;
    background-position: center;
}

.tour-content {
    padding: 1.5rem;
}

.tour-card h3 {
    margin-bottom: 0.5rem;
}

.tour-meta {
    color: #666;
    margin-bottom: 1rem;
    font-size: 0.9rem;
}

.price {
    display: block;
    color: var(--secondary-color);
    font-weight: bold;
    font-size: 1.2rem;
    margin: 0.5rem 0;
}

.seats {
    display: block;
    margin-bottom: 1rem;
}

.btn {
    display: inline-block;
    padding: 0.5rem 1rem;
    border: none;
    border-radius: var(--border-radius);
    background: var(--gray-color);
    cursor: pointer;
    font-size: 1rem;
    transition: background 0.3s;
}

.primary-btn {
    background: var(--accent-color);
    color: white;
}

.primary-btn:hover {
    background: #e68a00;
}

/* Footer */
footer {
    background: var(--dark-color);
    color: white;
    padding: 2rem 0;
    text-align: center;
}

/* Modal */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 1000;
    overflow: auto;
}

.modal-content {
    background-color: white;
    margin: 10% auto;
    padding: 2rem;
    width: 80%;
    max-width: 600px;
    border-radius: var(--border-radius);
    position: relative;
}

.close-button {
    position: absolute;
    top: 1rem;
    right: 1rem;
    font-size: 1.5rem;
    cursor: pointer;
}

.form-group {
    margin-bottom: 1rem;
}

label {
    display: block;
    margin-bottom: 0.5rem;
}

input[type="text"],
input[type="tel"],
input[type="number"] {
    width: 100%;
    padding: 0.5rem;
    border: 1px solid #ddd;
    border-radius: var(--border-radius);
}

.loading {
    text-align: center;
    padding: 2rem;
}

/* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è */
.price-info {
    margin-top: 1rem;
    padding: 1rem;
    background-color: #f5f7fa;
    border-radius: var(--border-radius);
}

.disabled-btn {
    background-color: #ccc;
    color: #666;
    cursor: not-allowed;
}

.booking-confirmation {
    text-align: center;
}

.confirmation-details {
    margin: 1.5rem 0;
    padding: 1rem;
    background-color: #f0f7ff;
    border-radius: var(--border-radius);
    border-left: 4px solid var(--primary-color);
}

.confirmation-note {
    font-style: italic;
    color: #666;
    margin-bottom: 1.5rem;
}

.error {
    color: #d32f2f;
    background-color: #fbe9e7;
    padding: 1rem;
    border-radius: var(--border-radius);
    text-align: center;
}

--------------------------------------------------

==================================================
üìÇ –§–∞–π–ª: \verify.html
==================================================

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ–≤–µ—Ä–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è | –¢–µ–ø–ª–æ—Ö–æ–¥–Ω—ã–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .verification-container {
            max-width: 600px;
            margin: 2rem auto;
            padding: 2rem;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }
        
        .verification-result {
            margin-top: 2rem;
            display: none;
        }
        
        .status-paid {
            color: #2e7d32;
        }
        
        .status-pending {
            color: #f57c00;
        }
        
        .status-canceled {
            color: #d32f2f;
        }

        .text-center {
            text-align: center;
            margin: 2rem 0;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>–¢–µ–ø–ª–æ—Ö–æ–¥–Ω—ã–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏</h1>
            <p>–ù–µ–∑–∞–±—ã–≤–∞–µ–º—ã–µ –ø—Ä–æ–≥—É–ª–∫–∏ –ø–æ –≤–æ–¥–µ</p>
        </div>
    </header>

    <main class="container">
        <div class="verification-container">
            <h2>–ü—Ä–æ–≤–µ—Ä–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</h2>
            <p>–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –ø—Ä–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏.</p>
            
            <form id="verification-form">
                <div class="form-group">
                    <label for="confirmation-code">–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:</label>
                    <input type="text" id="confirmation-code" name="confirmationCode" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥" required>
                </div>
                <button type="submit" class="btn primary-btn">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
            </form>
            
            <div id="verification-result" class="verification-result">
                <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
            </div>
        </div>
        
        <div class="text-center">
            <a href="index.html">–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 –¢–µ–ø–ª–æ—Ö–æ–¥–Ω—ã–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </div>
    </footer>

    <script>
        const API_URL = 'https://web-production-240dc.up.railway.app/api';
        const verificationForm = document.getElementById('verification-form');
        const verificationResult = document.getElementById('verification-result');
        
        verificationForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const confirmationCode = document.getElementById('confirmation-code').value.trim();
            
            if (!confirmationCode) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è');
                return;
            }
            
            try {
                // –î–æ–±–∞–≤–∏–º console.log –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
                console.log('–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –Ω–∞:', `${API_URL}/bookings/verify/${confirmationCode}`);
                
                const response = await fetch(`${API_URL}/bookings/verify/${confirmationCode}`);
                
                // –í—ã–≤–µ–¥–µ–º –æ—Ç–≤–µ—Ç –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
                console.log('–°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞:', response.status);
                
                if (!response.ok) {
                    if (response.status === 404) {
                        throw new Error('–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –∫–æ–¥–æ–º –Ω–µ –Ω–∞–π–¥–µ–Ω–æ');
                    }
                    throw new Error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è');
                }
                
                const data = await response.json();
                console.log('–ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:', data);
                
                displayBookingInfo(data);
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞:', error);
                verificationResult.style.display = 'block';
                verificationResult.innerHTML = `
                    <div class="error">
                        <p>${error.message || '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è'}</p>
                    </div>
                `;
            }
        });
        
        function displayBookingInfo(data) {
            const { booking, tour } = data;
            
            // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
            const bookingDate = new Date(booking.bookingDate);
            const formattedBookingDate = bookingDate.toLocaleDateString('ru-RU', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã —ç–∫—Å–∫—É—Ä—Å–∏–∏
            const tourDate = new Date(tour.date);
            const formattedTourDate = tourDate.toLocaleDateString('ru-RU', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric'
            });
            
            // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –æ–ø–ª–∞—Ç—ã
            let statusClass = '';
            let statusText = '';
            
            switch (booking.paymentStatus) {
                case 'paid':
                    statusClass = 'status-paid';
                    statusText = '–û–ø–ª–∞—á–µ–Ω–æ';
                    break;
                case 'pending':
                    statusClass = 'status-pending';
                    statusText = '–û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã';
                    break;
                case 'canceled':
                    statusClass = 'status-canceled';
                    statusText = '–û—Ç–º–µ–Ω–µ–Ω–æ';
                    break;
                default:
                    statusClass = '';
                    statusText = '–°—Ç–∞—Ç—É—Å –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω';
            }
            
            verificationResult.style.display = 'block';
            verificationResult.innerHTML = `
                <h3>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏</h3>
                <div class="confirmation-details">
                    <p><strong>–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:</strong> ${booking.confirmationCode}</p>
                    <p><strong>–≠–∫—Å–∫—É—Ä—Å–∏—è:</strong> ${tour.name}</p>
                    <p><strong>–î–∞—Ç–∞ —ç–∫—Å–∫—É—Ä—Å–∏–∏:</strong> ${formattedTourDate}</p>
                    <p><strong>–í—Ä–µ–º—è:</strong> ${tour.departureTime} - ${tour.returnTime}</p>
                    <p><strong>–ò–º—è:</strong> ${booking.customerName}</p>
                    <p><strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤:</strong> ${booking.ticketsCount}</p>
                    <p><strong>–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:</strong> ${booking.totalPrice} ‚ÇΩ</p>
                    <p><strong>–î–∞—Ç–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:</strong> ${formattedBookingDate}</p>
                    <p><strong>–°—Ç–∞—Ç—É—Å –æ–ø–ª–∞—Ç—ã:</strong> <span class="${statusClass}">${statusText}</span></p>
                </div>
                <p class="confirmation-note">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è. –û–Ω –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–∏ –ø–æ—Å–∞–¥–∫–µ –Ω–∞ —Ç–µ–ø–ª–æ—Ö–æ–¥.</p>
            `;
        }
    </script>
</body>
</html>

--------------------------------------------------

==================================================
üìÇ –§–∞–π–ª: \1\.fdsdg
==================================================

123 poyehali

--------------------------------------------------

==================================================
üìÇ –§–∞–π–ª: \papka\admin-script.js
==================================================

// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
const API_URL = 'https://web-production-240dc.up.railway.app/api';

// !!! –í–ù–ò–ú–ê–ù–ò–ï: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–¥–µ—Å—å –≤–∞—à API-–∫–ª—é—á (–ª—é–±—É—é —Å—Ç—Ä–æ–∫—É, –∫–æ—Ç–æ—Ä—É—é –≤—ã –ø—Ä–∏–¥—É–º–∞–µ—Ç–µ)
const ADMIN_API_KEY = 'admin_secret_key_2025'; 

let authToken = localStorage.getItem('adminToken');

// DOM —ç–ª–µ–º–µ–Ω—Ç—ã - –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–µ–∫—Ü–∏–∏
const loginSection = document.getElementById('login-section');
const adminDashboard = document.getElementById('admin-dashboard');
const loginForm = document.getElementById('login-form');
const logoutBtn = document.getElementById('logout-btn');

// –í–∫–ª–∞–¥–∫–∏
const tabButtons = document.querySelectorAll('.tab-btn');
const tabContents = document.querySelectorAll('.tab-content');

// –¢–∞–±–ª–∏—Ü—ã –∏ —ç–ª–µ–º–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∑–∫–∏
const toursTable = document.getElementById('tours-table');
const toursLoading = document.getElementById('tours-loading');
const toursEmpty = document.getElementById('tours-empty');
const bookingsTable = document.getElementById('bookings-table');
const bookingsLoading = document.getElementById('bookings-loading');
const bookingsEmpty = document.getElementById('bookings-empty');

// –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
const tourModal = document.getElementById('tour-modal');
const tourForm = document.getElementById('tour-form');
const tourModalTitle = document.getElementById('tour-modal-title');
const cancelTourBtn = document.getElementById('cancel-tour-btn');
const addTourBtn = document.getElementById('add-tour-btn');

const bookingModal = document.getElementById('booking-modal');
const closeBookingBtn = document.getElementById('close-booking-btn');
const changeStatusBtn = document.getElementById('change-status-btn');

// –§–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫
const tourSearch = document.getElementById('tour-search');
const bookingSearch = document.getElementById('booking-search');
const bookingStatusFilter = document.getElementById('booking-status-filter');

// –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞
const settingsForm = document.getElementById('settings-form');

// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫—Ä–µ—Å—Ç–∏–∫
document.querySelectorAll('.close-button').forEach(button => {
    button.addEventListener('click', function() {
        tourModal.style.display = 'none';
        bookingModal.style.display = 'none';
    });
}

// –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π —ç–∫—Å–∫—É—Ä—Å–∏–∏
addTourBtn.addEventListener('click', function() {
    tourModalTitle.textContent = '–î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–∫—É—Ä—Å–∏—é';
    tourForm.reset();
    document.getElementById('tour-id').value = '';
    
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –¥–∞—Ç—É - —Å–µ–≥–æ–¥–Ω—è
    const today = new Date();
    const formattedDate = today.toISOString().split('T')[0];
    document.getElementById('tour-date').min = formattedDate;
    
    tourModal.style.display = 'block';
});

// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç–∫—Å–∫—É—Ä—Å–∏–∏
cancelTourBtn.addEventListener('click', function() {
    tourModal.style.display = 'none';
});

// –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç–∫—Å–∫—É—Ä—Å–∏–∏
async function openTourEditModal(tourId) {
    tourModalTitle.textContent = '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —ç–∫—Å–∫—É—Ä—Å–∏—é';
    
    try {
        // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏ —Å —Å–µ—Ä–≤–µ—Ä–∞
        const response = await fetch(`${API_URL}/tours/${tourId}`);
        if (!response.ok) {
            throw new Error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö');
        }
        
        const tour = await response.json();
        
        // –ó–∞–ø–æ–ª–Ω—è–µ–º —Ñ–æ—Ä–º—É –¥–∞–Ω–Ω—ã–º–∏
        document.getElementById('tour-id').value = tour._id;
        document.getElementById('tour-name').value = tour.name;
        document.getElementById('tour-price').value = tour.price;
        
        // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –¥–∞—Ç—É –¥–ª—è –ø–æ–ª—è –≤–≤–æ–¥–∞ date
        const tourDate = new Date(tour.date);
        const formattedDate = tourDate.toISOString().split('T')[0];
        document.getElementById('tour-date').value = formattedDate;
        
        document.getElementById('tour-departure-time').value = tour.departureTime;
        document.getElementById('tour-return-time').value = tour.returnTime;
        document.getElementById('tour-capacity').value = tour.capacity || tour.availableSeats;
        document.getElementById('tour-available-seats').value = tour.availableSeats;
        document.getElementById('tour-description').value = tour.description;
        document.getElementById('tour-image').value = tour.imageUrl || '';
        
        // –û—Ç–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
        tourModal.style.display = 'block';
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö —ç–∫—Å–∫—É—Ä—Å–∏–∏: ' + error.message);
    }
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã —ç–∫—Å–∫—É—Ä—Å–∏–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)
tourForm.addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const tourId = document.getElementById('tour-id').value;
    const isEdit = !!tourId;
    
    try {
        // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã
        const formData = {
            name: document.getElementById('tour-name').value,
            price: parseInt(document.getElementById('tour-price').value),
            date: document.getElementById('tour-date').value,
            departureTime: document.getElementById('tour-departure-time').value,
            returnTime: document.getElementById('tour-return-time').value,
            capacity: parseInt(document.getElementById('tour-capacity').value),
            availableSeats: parseInt(document.getElementById('tour-available-seats').value),
            description: document.getElementById('tour-description').value,
            imageUrl: document.getElementById('tour-image').value
        };
        
        let url = `${API_URL}/tours`;
        let method = 'POST';
        
        if (isEdit) {
            url = `${API_URL}/tours/${tourId}`;
            method = 'PUT';
        }
        
        // –í –¥–µ–º–æ-–≤–µ—Ä—Å–∏–∏ –º—ã –Ω–µ –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API,
        // –∞ –ø—Ä–æ—Å—Ç–æ –∏–º–∏—Ç–∏—Ä—É–µ–º —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
        
        // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
        tourModal.style.display = 'none';
        
        // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ —ç–∫—Å–∫—É—Ä—Å–∏–π
        loadTours();
        
        alert(isEdit ? '–≠–∫—Å–∫—É—Ä—Å–∏—è —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∞!' : '–≠–∫—Å–∫—É—Ä—Å–∏—è —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞!');
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —ç–∫—Å–∫—É—Ä—Å–∏–∏: ' + error.message);
    }
});

// –£–¥–∞–ª–µ–Ω–∏–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏
async function deleteTour(tourId) {
    try {
        // –í –¥–µ–º–æ-–≤–µ—Ä—Å–∏–∏ –º—ã –Ω–µ –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API,
        // –∞ –ø—Ä–æ—Å—Ç–æ –∏–º–∏—Ç–∏—Ä—É–µ–º —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
        
        // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ —ç–∫—Å–∫—É—Ä—Å–∏–π
        loadTours();
        
        alert('–≠–∫—Å–∫—É—Ä—Å–∏—è —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞!');
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —ç–∫—Å–∫—É—Ä—Å–∏–∏: ' + error.message);
    }
}

// –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
function openBookingViewModal(bookingId) {
    try {
        // –í –¥–µ–º–æ-–≤–µ—Ä—Å–∏–∏ –º—ã –Ω–µ –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API,
        // –∞ –Ω–∞–π–¥–µ–º –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –Ω–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ –¥–∞–Ω–Ω—ã—Ö
        const booking = generateSampleBookings().find(b => b._id === bookingId);
        
        if (!booking) {
            throw new Error('–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ');
        }
        
        // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
        let statusText = '';
        switch (booking.paymentStatus) {
            case 'paid': statusText = '–û–ø–ª–∞—á–µ–Ω–æ'; break;
            case 'pending': statusText = '–û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã'; break;
            case 'canceled': statusText = '–û—Ç–º–µ–Ω–µ–Ω–æ'; break;
            default: statusText = '–°—Ç–∞—Ç—É—Å –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω';
        }
        
        // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç
        const bookingDate = new Date(booking.bookingDate);
        const formattedBookingDate = bookingDate.toLocaleDateString('ru-RU', {
            day: '2-digit',
            month: '2-digit',
            year: 'numeric',
            hour: '2-digit',
            minute: '2-digit'
        });
        
        const tourDate = new Date(booking.tourDate);
        const formattedTourDate = tourDate.toLocaleDateString('ru-RU', {
            day: '2-digit',
            month: '2-digit',
            year: 'numeric'
        });
        
        // –ó–∞–ø–æ–ª–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
        document.getElementById('booking-details').innerHTML = `
            <div class="booking-info-group">
                <p><strong>–ö–æ–¥ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:</strong> ${booking.confirmationCode}</p>
                <p><strong>–°—Ç–∞—Ç—É—Å –æ–ø–ª–∞—Ç—ã:</strong> <span class="status-badge status-${booking.paymentStatus}">${statusText}</span></p>
                <p><strong>–î–∞—Ç–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:</strong> ${formattedBookingDate}</p>
            </div>
            
            <div class="booking-info-group">
                <p><strong>–≠–∫—Å–∫—É—Ä—Å–∏—è:</strong> ${booking.tourName}</p>
                <p><strong>–î–∞—Ç–∞ —ç–∫—Å–∫—É—Ä—Å–∏–∏:</strong> ${formattedTourDate}</p>
                <p><strong>–í—Ä–µ–º—è:</strong> ${booking.departureTime} - ${booking.returnTime}</p>
            </div>
            
            <div class="booking-info-group">
                <p><strong>–ò–º—è –∫–ª–∏–µ–Ω—Ç–∞:</strong> ${booking.customerName}</p>
                <p><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> ${booking.customerPhone}</p>
                <p><strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤:</strong> ${booking.ticketsCount}</p>
                <p><strong>–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:</strong> ${booking.totalPrice} ‚ÇΩ</p>
            </div>
        `;
        
        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞—Ç—Ä–∏–±—É—Ç –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞
        changeStatusBtn.setAttribute('data-id', bookingId);
        changeStatusBtn.setAttribute('data-status', booking.paymentStatus);
        
        // –û—Ç–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
        bookingModal.style.display = 'block';
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è: ' + error.message);
    }
}

// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
closeBookingBtn.addEventListener('click', function() {
    bookingModal.style.display = 'none';
});

// –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
changeStatusBtn.addEventListener('click', function() {
    const bookingId = this.getAttribute('data-id');
    const currentStatus = this.getAttribute('data-status');
    
    let newStatus = '';
    let statusText = '';
    
    // –¶–∏–∫–ª–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤
    switch (currentStatus) {
        case 'pending':
            newStatus = 'paid';
            statusText = '–û–ø–ª–∞—á–µ–Ω–æ';
            break;
        case 'paid':
            newStatus = 'canceled';
            statusText = '–û—Ç–º–µ–Ω–µ–Ω–æ';
            break;
        case 'canceled':
        default:
            newStatus = 'pending';
            statusText = '–û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã';
    }
    
    try {
        // –í –¥–µ–º–æ-–≤–µ—Ä—Å–∏–∏ –º—ã –Ω–µ –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API,
        // –∞ –ø—Ä–æ—Å—Ç–æ –∏–º–∏—Ç–∏—Ä—É–µ–º —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –∞—Ç—Ä–∏–±—É—Ç –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
        this.setAttribute('data-status', newStatus);
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
        const statusBadge = document.querySelector('#booking-details .status-badge');
        statusBadge.className = `status-badge status-${newStatus}`;
        statusBadge.textContent = statusText;
        
        // –û–ø–æ–≤–µ—â–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        alert(`–°—Ç–∞—Ç—É—Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ "${statusText}"`);
        
        // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã
        loadBookings();
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è: ' + error.message);
    }
});

// –£–¥–∞–ª–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
function deleteBooking(bookingId) {
    try {
        // –í –¥–µ–º–æ-–≤–µ—Ä—Å–∏–∏ –º—ã –Ω–µ –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API,
        // –∞ –ø—Ä–æ—Å—Ç–æ –∏–º–∏—Ç–∏—Ä—É–µ–º —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
        
        // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
        loadBookings();
        
        alert('–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–æ!');
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è: ' + error.message);
    }
}

// –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å–∞–π—Ç–∞
function loadSettings() {
    try {
        // –í –¥–µ–º–æ-–≤–µ—Ä—Å–∏–∏ –º—ã –Ω–µ –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API,
        // –∞ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø–æ–ª–Ω–∏–º —Ñ–æ—Ä–º—É –ø—Ä–∏–º–µ—Ä–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
        document.getElementById('site-title').value = '–¢–µ–ø–ª–æ—Ö–æ–¥–Ω—ã–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏';
        document.getElementById('site-description').value = '–ù–µ–∑–∞–±—ã–≤–∞–µ–º—ã–µ –ø—Ä–æ–≥—É–ª–∫–∏ –ø–æ –≤–æ–¥–µ';
        document.getElementById('contact-phone').value = '+7 (999) 123-45-67';
        document.getElementById('contact-email').value = 'info@boat-tours.ru';
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫: ' + error.message);
    }
}

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å–∞–π—Ç–∞
settingsForm.addEventListener('submit', function(e) {
    e.preventDefault();
    
    try {
        // –í –¥–µ–º–æ-–≤–µ—Ä—Å–∏–∏ –º—ã –Ω–µ –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API,
        // –∞ –ø—Ä–æ—Å—Ç–æ –∏–º–∏—Ç–∏—Ä—É–µ–º —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
        
        alert('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!');
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫: ' + error.message);
    }
});

// –ü–æ–∏—Å–∫ —ç–∫—Å–∫—É—Ä—Å–∏–π
tourSearch.addEventListener('input', function() {
    const searchTerm = this.value.toLowerCase();
    
    // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ —Ç–∞–±–ª–∏—Ü—ã
    const rows = toursTable.querySelectorAll('tbody tr');
    
    rows.forEach(row => {
        const tourName = row.querySelector('td:first-child').textContent.toLowerCase();
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–ª–∏ —Å–∫—Ä—ã–≤–∞–µ–º —Å—Ç—Ä–æ–∫—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞
        if (tourName.includes(searchTerm)) {
            row.style.display = '';
        } else {
            row.style.display = 'none';
        }
    });
});

// –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
function filterBookings() {
    const searchTerm = bookingSearch.value.toLowerCase();
    const statusFilter = bookingStatusFilter.value;
    
    // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ —Ç–∞–±–ª–∏—Ü—ã
    const rows = bookingsTable.querySelectorAll('tbody tr');
    
    rows.forEach(row => {
        const code = row.querySelector('td:nth-child(1)').textContent.toLowerCase();
        const tourName = row.querySelector('td:nth-child(2)').textContent.toLowerCase();
        const customerName = row.querySelector('td:nth-child(3)').textContent.toLowerCase();
        const statusBadge = row.querySelector('.status-badge');
        const currentStatus = statusBadge ? statusBadge.className.includes('status-paid') ? 'paid'
                             : statusBadge.className.includes('status-pending') ? 'pending'
                             : statusBadge.className.includes('status-canceled') ? 'canceled'
                             : 'unknown' : 'unknown';
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ–∏—Å–∫–æ–≤–æ–º—É –∑–∞–ø—Ä–æ—Å—É –∏ —Ñ–∏–ª—å—Ç—Ä—É —Å—Ç–∞—Ç—É—Å–∞
        const matchesSearch = code.includes(searchTerm) || 
                              tourName.includes(searchTerm) || 
                              customerName.includes(searchTerm);
                              
        const matchesStatus = statusFilter === 'all' || currentStatus === statusFilter;
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–ª–∏ —Å–∫—Ä—ã–≤–∞–µ–º —Å—Ç—Ä–æ–∫—É
        if (matchesSearch && matchesStatus) {
            row.style.display = '';
        } else {
            row.style.display = 'none';
        }
    });
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
bookingSearch.addEventListener('input', filterBookings);
bookingStatusFilter.addEventListener('change', filterBookings);

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
document.addEventListener('DOMContentLoaded', function() {
    checkAuth();
}););

// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –Ω–∏—Ö
window.addEventListener('click', function(event) {
    if (event.target === tourModal) {
        tourModal.style.display = 'none';
    }
    if (event.target === bookingModal) {
        bookingModal.style.display = 'none';
    }
});

// –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
tabButtons.forEach(button => {
    button.addEventListener('click', function() {
        // –£–¥–∞–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –≤–∫–ª–∞–¥–æ–∫
        tabButtons.forEach(btn => btn.classList.remove('active'));
        tabContents.forEach(content => content.style.display = 'none');
        
        // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –Ω–∞–∂–∞—Ç–æ–π –≤–∫–ª–∞–¥–∫–µ
        this.classList.add('active');
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç
        const tabId = this.getAttribute('data-tab');
        document.getElementById(`${tabId}-tab`).style.display = 'block';
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –≤–∫–ª–∞–¥–∫–∏
        if (tabId === 'tours') {
            loadTours();
        } else if (tabId === 'bookings') {
            loadBookings();
        } else if (tabId === 'settings') {
            loadSettings();
        }
    });
});

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
function checkAuth() {
    if (authToken) {
        // –ï—Å–ª–∏ –µ—Å—Ç—å —Ç–æ–∫–µ–Ω, –ø—Ä–æ–≤–µ—Ä—è–µ–º –µ–≥–æ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å
        verifyToken()
            .then(valid => {
                if (valid) {
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
                    showAdminPanel();
                } else {
                    // –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –ª–æ–≥–∏–Ω–∞
                    showLoginForm();
                }
            })
            .catch(error => {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–∞:', error);
                showLoginForm();
            });
    } else {
        // –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω–∞ –Ω–µ—Ç, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –ª–æ–≥–∏–Ω–∞
        showLoginForm();
    }
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —Ç–æ–∫–µ–Ω–∞
async function verifyToken() {
    try {
        // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –∑–¥–µ—Å—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å –∫ API –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–∞
        // –ü–æ–∫–∞ –ø—Ä–æ—Å—Ç–æ –∏–º–∏—Ç–∏—Ä—É–µ–º —É—Å–ø–µ—à–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É
        return true;
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–∞:', error);
        return false;
    }
}

// –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º—É –≤—Ö–æ–¥–∞
function showLoginForm() {
    loginSection.style.display = 'block';
    adminDashboard.style.display = 'none';
    localStorage.removeItem('adminToken');
    authToken = null;
}

// –ü–æ–∫–∞–∑–∞—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
function showAdminPanel() {
    loginSection.style.display = 'none';
    adminDashboard.style.display = 'block';
    
    // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏
    const activeTab = document.querySelector('.tab-btn.active').getAttribute('data-tab');
    if (activeTab === 'tours') {
        loadTours();
    } else if (activeTab === 'bookings') {
        loadBookings();
    } else if (activeTab === 'settings') {
        loadSettings();
    }
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥–∞
loginForm.addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;
    
    try {
        // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –∑–¥–µ—Å—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å –∫ API –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
        // –ü–æ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∑–∞–≥–ª—É—à–∫—É —Å –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
        if (username === 'admin' && password === 'admin123') {
            authToken = 'fake_token_for_development';
            localStorage.setItem('adminToken', authToken);
            showAdminPanel();
        } else {
            alert('–ù–µ–≤–µ—Ä–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –ø–∞—Ä–æ–ª—å');
        }
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞:', error);
        alert('–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞: ' + error.message);
    }
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã—Ö–æ–¥–∞
logoutBtn.addEventListener('click', function() {
    showLoginForm();
});

// –ó–∞–≥—Ä—É–∑–∫–∞ —ç–∫—Å–∫—É—Ä—Å–∏–π —Å —Å–µ—Ä–≤–µ—Ä–∞
async function loadTours() {
    toursLoading.style.display = 'block';
    toursTable.querySelector('tbody').innerHTML = '';
    toursEmpty.style.display = 'none';
    
    try {
        const response = await fetch(`${API_URL}/tours`);
        if (!response.ok) {
            throw new Error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö');
        }
        
        const tours = await response.json();
        displayTours(tours);
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        toursTable.querySelector('tbody').innerHTML = `
            <tr>
                <td colspan="6" class="error">–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —ç–∫—Å–∫—É—Ä—Å–∏–π: ${error.message}</td>
            </tr>
        `;
    } finally {
        toursLoading.style.display = 'none';
    }
}

// –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —ç–∫—Å–∫—É—Ä—Å–∏–π –≤ —Ç–∞–±–ª–∏—Ü–µ
function displayTours(tours) {
    const tbody = toursTable.querySelector('tbody');
    
    if (tours.length === 0) {
        toursEmpty.style.display = 'block';
        return;
    }
    
    tours.forEach(tour => {
        const date = new Date(tour.date);
        const formattedDate = date.toLocaleDateString('ru-RU', {
            day: '2-digit',
            month: '2-digit',
            year: 'numeric'
        });
        
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${tour.name}</td>
            <td>${formattedDate}</td>
            <td>${tour.departureTime} - ${tour.returnTime}</td>
            <td>${tour.price} ‚ÇΩ</td>
            <td>${tour.availableSeats} / ${tour.capacity || tour.availableSeats}</td>
            <td>
                <div class="action-buttons">
                    <button class="action-btn edit-btn" data-id="${tour._id}">–ò–∑–º–µ–Ω–∏—Ç—å</button>
                    <button class="action-btn delete-btn" data-id="${tour._id}">–£–¥–∞–ª–∏—Ç—å</button>
                </div>
            </td>
        `;
        
        tbody.appendChild(row);
    });
    
    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è
    tbody.querySelectorAll('.edit-btn').forEach(button => {
        button.addEventListener('click', function() {
            const tourId = this.getAttribute('data-id');
            openTourEditModal(tourId);
        });
    });
    
    tbody.querySelectorAll('.delete-btn').forEach(button => {
        button.addEventListener('click', function() {
            const tourId = this.getAttribute('data-id');
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É —ç–∫—Å–∫—É—Ä—Å–∏—é?')) {
                deleteTour(tourId);
            }
        });
    });
}

// –ó–∞–≥—Ä—É–∑–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π —Å —Å–µ—Ä–≤–µ—Ä–∞
async function loadBookings() {
    bookingsLoading.style.display = 'block';
    bookingsTable.querySelector('tbody').innerHTML = '';
    bookingsEmpty.style.display = 'none';
    
    try {
        // –í –¥–µ–º–æ-–≤–µ—Ä—Å–∏–∏ –º—ã –Ω–µ –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∫ API –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π,
        // –∞ –ø—Ä–æ—Å—Ç–æ —Å–æ–∑–¥–∞–¥–∏–º –∑–∞–≥–ª—É—à–∫—É —Å –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
        const bookings = generateSampleBookings();
        setTimeout(() => {
            displayBookings(bookings);
            bookingsLoading.style.display = 'none';
        }, 500); // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ —Å–µ—Ç–∏
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        bookingsTable.querySelector('tbody').innerHTML = `
            <tr>
                <td colspan="9" class="error">–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π: ${error.message}</td>
            </tr>
        `;
        bookingsLoading.style.display = 'none';
    }
}

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
function generateSampleBookings() {
    return [
        {
            _id: 'booking1',
            confirmationCode: 'ABC123',
            tourId: 'tour1',
            tourName: '–û–±–∑–æ—Ä–Ω–∞—è —ç–∫—Å–∫—É—Ä—Å–∏—è –ø–æ –∫–∞–Ω–∞–ª–∞–º',
            tourDate: '2025-04-20',
            departureTime: '10:00',
            returnTime: '12:00',
            customerName: '–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤',
            customerPhone: '+7 (901) 123-45-67',
            ticketsCount: 2,
            totalPrice: 3000,
            paymentStatus: 'pending',
            bookingDate: '2025-04-11T15:20:10Z'
        },
        {
            _id: 'booking3',
            confirmationCode: 'GHI789',
            tourId: 'tour3',
            tourName: '–ù–æ—á–Ω–∞—è —ç–∫—Å–∫—É—Ä—Å–∏—è',
            tourDate: '2025-04-22',
            departureTime: '21:00',
            returnTime: '23:00',
            customerName: '–ê–ª–µ–∫—Å–µ–π –°–º–∏—Ä–Ω–æ–≤',
            customerPhone: '+7 (903) 456-78-90',
            ticketsCount: 3,
            totalPrice: 4500,
            paymentStatus: 'canceled',
            bookingDate: '2025-04-12T12:30:45Z'
        }
    ];
}

// –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –≤ —Ç–∞–±–ª–∏—Ü–µ
function displayBookings(bookings) {
    const tbody = bookingsTable.querySelector('tbody');
    
    if (bookings.length === 0) {
        bookingsEmpty.style.display = 'block';
        return;
    }
    
    bookings.forEach(booking => {
        const bookingDate = new Date(booking.bookingDate);
        const formattedDate = bookingDate.toLocaleDateString('ru-RU', {
            day: '2-digit',
            month: '2-digit',
            year: 'numeric',
            hour: '2-digit',
            minute: '2-digit'
        });
        
        // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞ –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞
        let statusClass = '';
        let statusText = '';
        
        switch (booking.paymentStatus) {
            case 'paid':
                statusClass = 'status-paid';
                statusText = '–û–ø–ª–∞—á–µ–Ω–æ';
                break;
            case 'pending':
                statusClass = 'status-pending';
                statusText = '–û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã';
                break;
            case 'canceled':
                statusClass = 'status-canceled';
                statusText = '–û—Ç–º–µ–Ω–µ–Ω–æ';
                break;
            default:
                statusClass = '';
                statusText = '–°—Ç–∞—Ç—É—Å –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω';
        }
        
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${booking.confirmationCode}</td>
            <td>${booking.tourName}</td>
            <td>${booking.customerName}</td>
            <td>${booking.customerPhone}</td>
            <td>${booking.ticketsCount}</td>
            <td>${booking.totalPrice} ‚ÇΩ</td>
            <td><span class="status-badge ${statusClass}">${statusText}</span></td>
            <td>${formattedDate}</td>
            <td>
                <div class="action-buttons">
                    <button class="action-btn view-btn" data-id="${booking._id}">–ü—Ä–æ—Å–º–æ—Ç—Ä</button>
                    <button class="action-btn delete-btn" data-id="${booking._id}">–£–¥–∞–ª–∏—Ç—å</button>
                </div>
            </td>
        `;
        
        tbody.appendChild(row);
    });
    
    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ —É–¥–∞–ª–µ–Ω–∏—è
    tbody.querySelectorAll('.view-btn').forEach(button => {
        button.addEventListener('click', function() {
            const bookingId = this.getAttribute('data-id');
            openBookingViewModal(bookingId);
        });
    });
    
    tbody.querySelectorAll('.delete-btn').forEach(button => {
        button.addEventListener('click', function() {
            const bookingId = this.getAttribute('data-id');
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ?')) {
                deleteBooking(bookingId);
            }
        });
    });
}'paid',
            bookingDate: '2025-04-10T10:15:30Z'
        },
        {
            _id: 'booking2',
            confirmationCode: 'DEF456',
            tourId: 'tour2',
            tourName: '–í–µ—á–µ—Ä–Ω—è—è –ø—Ä–æ–≥—É–ª–∫–∞',
            tourDate: '2025-04-21',
            departureTime: '18:00',
            returnTime: '20:00',
            customerName: '–ú–∞—Ä–∏—è –ò–≤–∞–Ω–æ–≤–∞',
            customerPhone: '+7 (902) 987-65-43',
            ticketsCount: 1,
            totalPrice: 1500,
            paymentStatus:

--------------------------------------------------

==================================================
üìÇ –§–∞–π–ª: \papka\admin-styles.css
==================================================

/* –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–Ω–µ–ª–∏ */

:root {
  --admin-primary: #2c3e50;
  --admin-secondary: #3498db;
  --admin-accent: #e74c3c;
  --admin-light: #ecf0f1;
  --admin-success: #2ecc71;
  --admin-warning: #f39c12;
  --admin-danger: #e74c3c;
}

.admin-container {
  background-color: white;
  padding: 2rem;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  margin: 2rem auto;
}

.admin-section {
  margin-bottom: 2rem;
}

.admin-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 2rem;
}

.admin-form {
  max-width: 800px;
  margin: 0 auto;
}

.form-row {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  margin-bottom: 1rem;
}

.form-row .form-group {
  flex: 1;
  min-width: 200px;
}

.admin-tabs {
  display: flex;
  margin-bottom: 2rem;
  border-bottom: 1px solid #ddd;
}

.tab-btn {
  padding: 0.8rem 1.5rem;
  background: none;
  border: none;
  border-bottom: 3px solid transparent;
  font-size: 1rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s;
}

.tab-btn:hover {
  background-color: #f5f5f5;
}

.tab-btn.active {
  border-bottom: 3px solid var(--admin-secondary);
  color: var(--admin-secondary);
}

.tab-content {
  padding: 1rem 0;
}

.content-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1.5rem;
}

.search-filter {
  display: flex;
  gap: 1rem;
  margin-bottom: 1.5rem;
}

.search-filter input {
  flex: 1;
  padding: 0.7rem;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.search-filter select {
  padding: 0.7rem;
  border: 1px solid #ddd;
  border-radius: 4px;
  min-width: 150px;
}

.table-container {
  overflow-x: auto;
  margin-bottom: 2rem;
}

.admin-table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 1rem;
}

.admin-table th,
.admin-table td {
  padding: 0.75rem;
  text-align: left;
  border-bottom: 1px solid #ddd;
}

.admin-table th {
  background-color: #f5f5f5;
  font-weight: 600;
}

.admin-table tbody tr:hover {
  background-color: #f9f9f9;
}

.action-buttons {
  display: flex;
  gap: 0.5rem;
}

.action-btn {
  padding: 0.4rem 0.8rem;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 0.9rem;
}

.edit-btn {
  background-color: var(--admin-secondary);
  color: white;
}

.delete-btn {
  background-color: var(--admin-danger);
  color: white;
}

.view-btn {
  background-color: var(--admin-light);
  color: var(--admin-primary);
}

.status-badge {
  display: inline-block;
  padding: 0.25rem 0.6rem;
  border-radius: 20px;
  font-size: 0.85rem;
  font-weight: 500;
}

.status-paid {
  background-color: #e6f7ee;
  color: var(--admin-success);
}

.status-pending {
  background-color: #fff6e6;
  color: var(--admin-warning);
}

.status-canceled {
  background-color: #fdeaea;
  color: var(--admin-danger);
}

.empty-message {
  text-align: center;
  padding: 2rem;
  color: #666;
  font-style: italic;
}

.wide-modal .modal-content {
  width: 90%;
  max-width: 800px;
}

.booking-details {
  margin-bottom: 1.5rem;
}

.booking-details p {
  margin-bottom: 0.5rem;
}

.booking-info-group {
  padding: 1rem;
  background-color: #f5f7fa;
  border-radius: 4px;
  margin-bottom: 1rem;
}

.form-buttons {
  display: flex;
  justify-content: flex-end;
  gap: 1rem;
  margin-top: 1.5rem;
}

.status-btn {
  background-color: var(--admin-warning);
  color: white;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
@media (max-width: 768px) {
  .admin-header, .content-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 1rem;
  }
  
  .admin-tabs {
    flex-wrap: wrap;
  }
  
  .search-filter {
    flex-direction: column;
  }
  
  .action-buttons {
    flex-direction: column;
  }
}

--------------------------------------------------

==================================================
üìÇ –§–∞–π–ª: \papka\admin.html
==================================================

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ | –¢–µ–ø–ª–æ—Ö–æ–¥–Ω—ã–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="admin-styles.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h1>
            <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–ø–ª–æ—Ö–æ–¥–Ω—ã–º–∏ —ç–∫—Å–∫—É—Ä—Å–∏—è–º–∏</p>
        </div>
    </header>

    <main class="container admin-container">
        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–æ–≥–∏–Ω–∞ -->
        <div id="login-section" class="admin-section">
            <h2>–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h2>
            <form id="login-form" class="admin-form">
                <div class="form-group">
                    <label for="username">–õ–æ–≥–∏–Ω:</label>
                    <input type="text" id="username" name="username" required>
                </div>
                <div class="form-group">
                    <label for="password">–ü–∞—Ä–æ–ª—å:</label>
                    <input type="password" id="password" name="password" required>
                </div>
                <button type="submit" class="btn primary-btn">–í–æ–π—Ç–∏</button>
            </form>
        </div>

        <!-- –ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (—Å–∫—Ä—ã—Ç–∞ –¥–æ –≤—Ö–æ–¥–∞) -->
        <div id="admin-dashboard" class="admin-section" style="display: none;">
            <div class="admin-header">
                <h2>–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h2>
                <button id="logout-btn" class="btn">–í—ã–π—Ç–∏</button>
            </div>

            <div class="admin-tabs">
                <button class="tab-btn active" data-tab="tours">–≠–∫—Å–∫—É—Ä—Å–∏–∏</button>
                <button class="tab-btn" data-tab="bookings">–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</button>
                <button class="tab-btn" data-tab="settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
            </div>

            <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–∫—Å–∫—É—Ä—Å–∏—è–º–∏ -->
            <div id="tours-tab" class="tab-content">
                <div class="content-header">
                    <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–∫—Å–∫—É—Ä—Å–∏—è–º–∏</h3>
                    <button id="add-tour-btn" class="btn primary-btn">–î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–∫—É—Ä—Å–∏—é</button>
                </div>

                <div class="search-filter">
                    <input type="text" id="tour-search" placeholder="–ü–æ–∏—Å–∫ —ç–∫—Å–∫—É—Ä—Å–∏–π...">
                </div>

                <div class="table-container">
                    <table id="tours-table" class="admin-table">
                        <thead>
                            <tr>
                                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                                <th>–î–∞—Ç–∞</th>
                                <th>–í—Ä–µ–º—è</th>
                                <th>–¶–µ–Ω–∞</th>
                                <th>–ú–µ—Å—Ç –¥–æ—Å—Ç—É–ø–Ω–æ</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                        </tbody>
                    </table>
                    <div id="tours-loading" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ —ç–∫—Å–∫—É—Ä—Å–∏–π...</div>
                    <div id="tours-empty" class="empty-message" style="display: none;">–≠–∫—Å–∫—É—Ä—Å–∏–π –Ω–µ –Ω–∞–π–¥–µ–Ω–æ. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é —ç–∫—Å–∫—É—Ä—Å–∏—é.</div>
                </div>
            </div>

            <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏ -->
            <div id="bookings-tab" class="tab-content" style="display: none;">
                <div class="content-header">
                    <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏</h3>
                </div>

                <div class="search-filter">
                    <input type="text" id="booking-search" placeholder="–ü–æ–∏—Å–∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π...">
                    <select id="booking-status-filter">
                        <option value="all">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                        <option value="paid">–û–ø–ª–∞—á–µ–Ω–æ</option>
                        <option value="pending">–û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã</option>
                        <option value="canceled">–û—Ç–º–µ–Ω–µ–Ω–æ</option>
                    </select>
                </div>

                <div class="table-container">
                    <table id="bookings-table" class="admin-table">
                        <thead>
                            <tr>
                                <th>–ö–æ–¥</th>
                                <th>–≠–∫—Å–∫—É—Ä—Å–∏—è</th>
                                <th>–ö–ª–∏–µ–Ω—Ç</th>
                                <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
                                <th>–ë–∏–ª–µ—Ç—ã</th>
                                <th>–°—É–º–º–∞</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                                <th>–î–∞—Ç–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                        </tbody>
                    </table>
                    <div id="bookings-loading" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π...</div>
                    <div id="bookings-empty" class="empty-message" style="display: none;">–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.</div>
                </div>
            </div>

            <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞ -->
            <div id="settings-tab" class="tab-content" style="display: none;">
                <div class="content-header">
                    <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞</h3>
                </div>

                <form id="settings-form" class="admin-form">
                    <div class="form-group">
                        <label for="site-title">–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∞–π—Ç–∞:</label>
                        <input type="text" id="site-title" name="siteTitle">
                    </div>
                    <div class="form-group">
                        <label for="site-description">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                        <textarea id="site-description" name="siteDescription" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="contact-phone">–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω:</label>
                        <input type="tel" id="contact-phone" name="contactPhone">
                    </div>
                    <div class="form-group">
                        <label for="contact-email">Email:</label>
                        <input type="email" id="contact-email" name="contactEmail">
                    </div>
                    <button type="submit" class="btn primary-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                </form>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç–∫—Å–∫—É—Ä—Å–∏–∏ -->
        <div id="tour-modal" class="modal">
            <div class="modal-content wide-modal">
                <span class="close-button">&times;</span>
                <h2 id="tour-modal-title">–î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–∫—É—Ä—Å–∏—é</h2>
                <form id="tour-form" class="admin-form">
                    <input type="hidden" id="tour-id" name="tourId">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="tour-name">–ù–∞–∑–≤–∞–Ω–∏–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏:</label>
                            <input type="text" id="tour-name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="tour-price">–¶–µ–Ω–∞ (‚ÇΩ):</label>
                            <input type="number" id="tour-price" name="price" min="0" step="50" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="tour-date">–î–∞—Ç–∞:</label>
                            <input type="date" id="tour-date" name="date" required>
                        </div>
                        <div class="form-group">
                            <label for="tour-departure-time">–í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è:</label>
                            <input type="time" id="tour-departure-time" name="departureTime" required>
                        </div>
                        <div class="form-group">
                            <label for="tour-return-time">–í—Ä–µ–º—è –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è:</label>
                            <input type="time" id="tour-return-time" name="returnTime" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="tour-capacity">–û–±—â–∞—è –≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:</label>
                            <input type="number" id="tour-capacity" name="capacity" min="1" required>
                        </div>
                        <div class="form-group">
                            <label for="tour-available-seats">–î–æ—Å—Ç—É–ø–Ω–æ –º–µ—Å—Ç:</label>
                            <input type="number" id="tour-available-seats" name="availableSeats" min="0" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="tour-description">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                        <textarea id="tour-description" name="description" rows="4" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="tour-image">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (URL):</label>
                        <input type="text" id="tour-image" name="imageUrl" placeholder="https://example.com/image.jpg">
                    </div>
                    <div class="form-buttons">
                        <button type="button" class="btn" id="cancel-tour-btn">–û—Ç–º–µ–Ω–∞</button>
                        <button type="submit" class="btn primary-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è -->
        <div id="booking-modal" class="modal">
            <div class="modal-content">
                <span class="close-button">&times;</span>
                <h2>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏</h2>
                <div id="booking-details" class="booking-details">
                    <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                </div>
                <div class="form-buttons">
                    <button type="button" class="btn" id="close-booking-btn">–ó–∞–∫—Ä—ã—Ç—å</button>
                    <button type="button" class="btn status-btn" id="change-status-btn">–ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å</button>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 –¢–µ–ø–ª–æ—Ö–æ–¥–Ω—ã–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </div>
    </footer>

    <script src="admin-script.js"></script>
</body>
</html>

--------------------------------------------------

==================================================
üìÇ –§–∞–π–ª: \papka\index.html
==================================================

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ–ø–ª–æ—Ö–æ–¥–Ω—ã–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>–¢–µ–ø–ª–æ—Ö–æ–¥–Ω—ã–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏</h1>
            <p>–ù–µ–∑–∞–±—ã–≤–∞–µ–º—ã–µ –ø—Ä–æ–≥—É–ª–∫–∏ –ø–æ –≤–æ–¥–µ</p>
        </div>
    </header>

    <main class="container">
        <section class="intro">
            <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h2>
            <p>–í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–Ω—É –∏–∑ –Ω–∞—à–∏—Ö —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —ç–∫—Å–∫—É—Ä—Å–∏–π –∏ –Ω–∞—Å–ª–∞–¥–∏—Ç–µ—Å—å –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–º–∏ –≤–∏–¥–∞–º–∏ —Å –≤–æ–¥—ã.</p>
            <div class="actions">
                <a href="verify.html" class="btn">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</a>
            </div>
        </section>

        <section class="tours">
            <h2>–ë–ª–∏–∂–∞–π—à–∏–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏</h2>
            <div id="tours-container" class="tours-grid">
                <!-- –°—é–¥–∞ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —ç–∫—Å–∫—É—Ä—Å–∏–∏ —Å —Å–µ—Ä–≤–µ—Ä–∞ -->
                <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ —ç–∫—Å–∫—É—Ä—Å–∏–π...</div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 –¢–µ–ø–ª–æ—Ö–æ–¥–Ω—ã–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </div>
    </footer>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è -->
    <div id="booking-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —ç–∫—Å–∫—É—Ä—Å–∏—é</h2>
            <div id="booking-details"></div>
            <form id="booking-form">
                <input type="hidden" id="tour-id" name="tourId">
                <div class="form-group">
                    <label for="customer-name">–í–∞—à–µ –∏–º—è:</label>
                    <input type="text" id="customer-name" name="customerName" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –ø–æ–ª–Ω–æ–µ –∏–º—è" required>
                </div>
                <div class="form-group">
                    <label for="customer-phone">–¢–µ–ª–µ—Ñ–æ–Ω:</label>
                    <input type="tel" id="customer-phone" name="customerPhone" placeholder="+7 (___) ___-__-__" required>
                </div>
                <div class="form-group">
                    <label for="tickets-count">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤:</label>
                    <input type="number" id="tickets-count" name="ticketsCount" min="1" max="10" value="1" required>
                </div>
                <button type="submit" class="btn primary-btn">–ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø–ª–∞—Ç–µ</button>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>

--------------------------------------------------

==================================================
üìÇ –§–∞–π–ª: \papka\script.js
==================================================

// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
const API_URL = 'https://web-production-240dc.up.railway.app/api';

// DOM —ç–ª–µ–º–µ–Ω—Ç—ã
const toursContainer = document.getElementById('tours-container');
const bookingModal = document.getElementById('booking-modal');
const closeButton = document.querySelector('.close-button');
const bookingForm = document.getElementById('booking-form');
const bookingDetails = document.getElementById('booking-details');
const tourIdInput = document.getElementById('tour-id');
const ticketsCountInput = document.getElementById('tickets-count');
const customerNameInput = document.getElementById('customer-name');
const customerPhoneInput = document.getElementById('customer-phone');

// –¢–µ–∫—É—â–∞—è –≤—ã–±—Ä–∞–Ω–Ω–∞—è —ç–∫—Å–∫—É—Ä—Å–∏—è
let currentTour = null;

// –ó–∞–≥—Ä—É–∑–∫–∞ —ç–∫—Å–∫—É—Ä—Å–∏–π —Å —Å–µ—Ä–≤–µ—Ä–∞
async function loadTours() {
    try {
        const response = await fetch(`${API_URL}/tours`);
        if (!response.ok) {
            throw new Error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö');
        }
        
        const tours = await response.json();
        displayTours(tours);
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        toursContainer.innerHTML = `<div class="error">–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —ç–∫—Å–∫—É—Ä—Å–∏–π. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.</div>`;
    }
}

// –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —ç–∫—Å–∫—É—Ä—Å–∏–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
function displayTours(tours) {
    if (tours.length === 0) {
        toursContainer.innerHTML = '<div class="no-tours">–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —ç–∫—Å–∫—É—Ä—Å–∏–π</div>';
        return;
    }
    
    toursContainer.innerHTML = tours.map(tour => {
        // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã
        const date = new Date(tour.date);
        const formattedDate = date.toLocaleDateString('ru-RU', {
            day: '2-digit',
            month: '2-digit',
            year: 'numeric'
        });
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –º–µ—Å—Ç
        const soldOut = tour.availableSeats <= 0;
        const buttonHTML = soldOut 
            ? `<button class="btn disabled-btn" disabled>–ù–µ—Ç –º–µ—Å—Ç</button>`
            : `<button class="btn primary-btn" onclick="openBooking('${tour._id}')">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</button>`;
        
        return `
            <div class="tour-card">
                <div class="tour-image" style="background-image: url('${tour.imageUrl || 'images/default-boat.jpg'}')"></div>
                <div class="tour-content">
                    <h3>${tour.name}</h3>
                    <div class="tour-meta">
                        <span>–î–∞—Ç–∞: ${formattedDate}</span><br>
                        <span>–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: ${tour.departureTime}</span><br>
                        <span>–í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ: ${tour.returnTime}</span>
                    </div>
                    <p>${tour.description}</p>
                    <span class="price">${tour.price} ‚ÇΩ / —á–µ–ª–æ–≤–µ–∫</span>
                    <span class="seats">–°–≤–æ–±–æ–¥–Ω—ã—Ö –º–µ—Å—Ç: ${tour.availableSeats}</span>
                    ${buttonHTML}
                </div>
            </div>
        `;
    }).join('');
}

// –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
async function openBooking(tourId) {
    try {
        const response = await fetch(`${API_URL}/tours/${tourId}`);
        if (!response.ok) {
            throw new Error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö –æ —ç–∫—Å–∫—É—Ä—Å–∏–∏');
        }
        
        const tour = await response.json();
        currentTour = tour;
        
        // –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
        const date = new Date(tour.date);
        const formattedDate = date.toLocaleDateString('ru-RU', {
            day: '2-digit',
            month: '2-digit',
            year: 'numeric'
        });
        
        bookingDetails.innerHTML = `
            <div class="booking-tour-info">
                <h3>${tour.name}</h3>
                <p>–î–∞—Ç–∞: ${formattedDate}</p>
                <p>–í—Ä–µ–º—è: ${tour.departureTime} - ${tour.returnTime}</p>
                <p>–¶–µ–Ω–∞: ${tour.price} ‚ÇΩ / —á–µ–ª–æ–≤–µ–∫</p>
                <p>–î–æ—Å—Ç—É–ø–Ω–æ –º–µ—Å—Ç: ${tour.availableSeats}</p>
            </div>
        `;
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã
        ticketsCountInput.max = tour.availableSeats;
        ticketsCountInput.value = 1;
        updateTotalPrice();
        
        // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ ID —ç–∫—Å–∫—É—Ä—Å–∏–∏ –≤ —Å–∫—Ä—ã—Ç–æ–µ –ø–æ–ª–µ —Ñ–æ—Ä–º—ã
        tourIdInput.value = tourId;
        
        // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
        bookingModal.style.display = 'block';
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        alert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö –æ —ç–∫—Å–∫—É—Ä—Å–∏–∏');
    }
}

// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
function closeModal() {
    bookingModal.style.display = 'none';
    bookingForm.reset();
    currentTour = null;
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—â–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–∏–ª–µ—Ç–æ–≤
function updateTotalPrice() {
    if (!currentTour) return;
    
    const ticketsCount = parseInt(ticketsCountInput.value) || 1;
    const totalPrice = currentTour.price * ticketsCount;
    
    const totalPriceElement = document.getElementById('total-price');
    if (totalPriceElement) {
        totalPriceElement.textContent = `${totalPrice} ‚ÇΩ`;
    } else {
        const priceInfoDiv = document.createElement('div');
        priceInfoDiv.classList.add('price-info');
        priceInfoDiv.innerHTML = `
            <p>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤: <span id="tickets-summary">${ticketsCount}</span></p>
            <p>–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: <span id="total-price">${totalPrice} ‚ÇΩ</span></p>
        `;
        bookingDetails.appendChild(priceInfoDiv);
    }
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–∏–ª–µ—Ç–æ–≤
ticketsCountInput.addEventListener('change', function() {
    const ticketsCount = parseInt(this.value) || 1;
    document.getElementById('tickets-summary').textContent = ticketsCount;
    updateTotalPrice();
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
bookingForm.addEventListener('submit', async function(e) {
    e.preventDefault();
    
    try {
        const formData = {
            tourId: tourIdInput.value,
            customerName: customerNameInput.value,
            customerPhone: customerPhoneInput.value,
            ticketsCount: parseInt(ticketsCountInput.value)
        };
        
        // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
        const bookingResponse = await fetch(`${API_URL}/bookings`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(formData)
        });
        
        const bookingData = await bookingResponse.json();
        
        if (!bookingResponse.ok) {
            throw new Error(bookingData.error || '–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è');
        }
        
        // –ò–º–∏—Ç–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–∞
        const paymentResponse = await fetch(`${API_URL}/payments/process`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ bookingId: bookingData.bookingId })
        });
        
        const paymentData = await paymentResponse.json();
        
        if (!paymentResponse.ok) {
            throw new Error(paymentData.error || '–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –ø–ª–∞—Ç–µ–∂–∞');
        }
        
        // –ü–æ–∫–∞–∑ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É—Å–ø–µ—à–Ω–æ–º –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏
        showBookingConfirmation(bookingData);
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        alert(`–û—à–∏–±–∫–∞: ${error.message}`);
    }
});

// –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
function showBookingConfirmation(bookingData) {
    // –ó–∞–º–µ–Ω—è–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –Ω–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
    const modalContent = document.querySelector('.modal-content');
    modalContent.innerHTML = `
        <span class="close-button">&times;</span>
        <div class="booking-confirmation">
            <h2>–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ!</h2>
            <p>–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –∑–∞–∫–∞–∑. –í–∞—à–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ.</p>
            <div class="confirmation-details">
                <p><strong>–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:</strong> ${bookingData.confirmationCode}</p>
                <p><strong>–°—É–º–º–∞:</strong> ${bookingData.totalPrice} ‚ÇΩ</p>
            </div>
            <p class="confirmation-note">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è. –û–Ω –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–∏ –ø–æ—Å–∞–¥–∫–µ –Ω–∞ —Ç–µ–ø–ª–æ—Ö–æ–¥.</p>
            <button class="btn primary-btn" onclick="closeAndRefresh()">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    `;
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ –∑–∞–∫—Ä—ã—Ç–∏—è
    document.querySelector('.close-button').addEventListener('click', closeAndRefresh);
}

// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —ç–∫—Å–∫—É—Ä—Å–∏–π
function closeAndRefresh() {
    closeModal();
    loadTours(); // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ —ç–∫—Å–∫—É—Ä—Å–∏–π, —á—Ç–æ–±—ã –æ—Ç—Ä–∞–∑–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
closeButton.addEventListener('click', closeModal);
window.addEventListener('click', function(e) {
    if (e.target === bookingModal) {
        closeModal();
    }
});

// –ó–∞–≥—Ä—É–∑–∫–∞ —ç–∫—Å–∫—É—Ä—Å–∏–π –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', loadTours);

--------------------------------------------------

==================================================
üìÇ –§–∞–π–ª: \papka\styles.css
==================================================

:root {
    --primary-color: #0066cc;
    --secondary-color: #004d99;
    --accent-color: #ff9900;
    --light-color: #f5f7fa;
    --dark-color: #333;
    --gray-color: #f0f0f0;
    --border-radius: 4px;
    --shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.6;
    color: var(--dark-color);
    background-color: var(--light-color);
}

a {
    color: var(--primary-color);
    text-decoration: none;
}

img {
    max-width: 100%;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

/* Header */
header {
    background-color: var(--primary-color);
    color: white;
    padding: 2rem 0;
    text-align: center;
}

header h1 {
    margin-bottom: 0.5rem;
}

/* Main content */
main {
    padding: 2rem 0;
}

.intro {
    text-align: center;
    margin-bottom: 2rem;
}

.intro .actions {
    margin-top: 1.5rem;
}

.text-center {
    text-align: center;
    margin: 2rem 0;
}

.tours-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 2rem;
}

.tour-card {
    background: white;
    border-radius: var(--border-radius);
    overflow: hidden;
    box-shadow: var(--shadow);
    transition: transform 0.3s;
}

.tour-card:hover {
    transform: translateY(-5px);
}

.tour-image {
    height: 200px;
    background-size: cover;
    background-position: center;
}

.tour-content {
    padding: 1.5rem;
}

.tour-card h3 {
    margin-bottom: 0.5rem;
}

.tour-meta {
    color: #666;
    margin-bottom: 1rem;
    font-size: 0.9rem;
}

.price {
    display: block;
    color: var(--secondary-color);
    font-weight: bold;
    font-size: 1.2rem;
    margin: 0.5rem 0;
}

.seats {
    display: block;
    margin-bottom: 1rem;
}

.btn {
    display: inline-block;
    padding: 0.5rem 1rem;
    border: none;
    border-radius: var(--border-radius);
    background: var(--gray-color);
    cursor: pointer;
    font-size: 1rem;
    transition: background 0.3s;
}

.primary-btn {
    background: var(--accent-color);
    color: white;
}

.primary-btn:hover {
    background: #e68a00;
}

/* Footer */
footer {
    background: var(--dark-color);
    color: white;
    padding: 2rem 0;
    text-align: center;
}

/* Modal */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 1000;
    overflow: auto;
}

.modal-content {
    background-color: white;
    margin: 10% auto;
    padding: 2rem;
    width: 80%;
    max-width: 600px;
    border-radius: var(--border-radius);
    position: relative;
}

.close-button {
    position: absolute;
    top: 1rem;
    right: 1rem;
    font-size: 1.5rem;
    cursor: pointer;
}

.form-group {
    margin-bottom: 1rem;
}

label {
    display: block;
    margin-bottom: 0.5rem;
}

input[type="text"],
input[type="tel"],
input[type="number"] {
    width: 100%;
    padding: 0.5rem;
    border: 1px solid #ddd;
    border-radius: var(--border-radius);
}

.loading {
    text-align: center;
    padding: 2rem;
}

/* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è */
.price-info {
    margin-top: 1rem;
    padding: 1rem;
    background-color: #f5f7fa;
    border-radius: var(--border-radius);
}

.disabled-btn {
    background-color: #ccc;
    color: #666;
    cursor: not-allowed;
}

.booking-confirmation {
    text-align: center;
}

.confirmation-details {
    margin: 1.5rem 0;
    padding: 1rem;
    background-color: #f0f7ff;
    border-radius: var(--border-radius);
    border-left: 4px solid var(--primary-color);
}

.confirmation-note {
    font-style: italic;
    color: #666;
    margin-bottom: 1.5rem;
}

.error {
    color: #d32f2f;
    background-color: #fbe9e7;
    padding: 1rem;
    border-radius: var(--border-radius);
    text-align: center;
}

--------------------------------------------------

==================================================
üìÇ –§–∞–π–ª: \papka\verify.html
==================================================

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ–≤–µ—Ä–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è | –¢–µ–ø–ª–æ—Ö–æ–¥–Ω—ã–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .verification-container {
            max-width: 600px;
            margin: 2rem auto;
            padding: 2rem;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }
        
        .verification-result {
            margin-top: 2rem;
            display: none;
        }
        
        .status-paid {
            color: #2e7d32;
        }
        
        .status-pending {
            color: #f57c00;
        }
        
        .status-canceled {
            color: #d32f2f;
        }

        .text-center {
            text-align: center;
            margin: 2rem 0;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>–¢–µ–ø–ª–æ—Ö–æ–¥–Ω—ã–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏</h1>
            <p>–ù–µ–∑–∞–±—ã–≤–∞–µ–º—ã–µ –ø—Ä–æ–≥—É–ª–∫–∏ –ø–æ –≤–æ–¥–µ</p>
        </div>
    </header>

    <main class="container">
        <div class="verification-container">
            <h2>–ü—Ä–æ–≤–µ—Ä–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</h2>
            <p>–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –ø—Ä–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏.</p>
            
            <form id="verification-form">
                <div class="form-group">
                    <label for="confirmation-code">–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:</label>
                    <input type="text" id="confirmation-code" name="confirmationCode" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥" required>
                </div>
                <button type="submit" class="btn primary-btn">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
            </form>
            
            <div id="verification-result" class="verification-result">
                <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
            </div>
        </div>
        
        <div class="text-center">
            <a href="index.html">–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 –¢–µ–ø–ª–æ—Ö–æ–¥–Ω—ã–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </div>
    </footer>

    <script>
        const API_URL = 'https://web-production-240dc.up.railway.app/api';
        const verificationForm = document.getElementById('verification-form');
        const verificationResult = document.getElementById('verification-result');
        
        verificationForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const confirmationCode = document.getElementById('confirmation-code').value.trim();
            
            if (!confirmationCode) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è');
                return;
            }
            
            try {
                // –î–æ–±–∞–≤–∏–º console.log –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
                console.log('–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –Ω–∞:', `${API_URL}/bookings/verify/${confirmationCode}`);
                
                const response = await fetch(`${API_URL}/bookings/verify/${confirmationCode}`);
                
                // –í—ã–≤–µ–¥–µ–º –æ—Ç–≤–µ—Ç –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
                console.log('–°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞:', response.status);
                
                if (!response.ok) {
                    if (response.status === 404) {
                        throw new Error('–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –∫–æ–¥–æ–º –Ω–µ –Ω–∞–π–¥–µ–Ω–æ');
                    }
                    throw new Error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è');
                }
                
                const data = await response.json();
                console.log('–ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:', data);
                
                displayBookingInfo(data);
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞:', error);
                verificationResult.style.display = 'block';
                verificationResult.innerHTML = `
                    <div class="error">
                        <p>${error.message || '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è'}</p>
                    </div>
                `;
            }
        });
        
        function displayBookingInfo(data) {
            const { booking, tour } = data;
            
            // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
            const bookingDate = new Date(booking.bookingDate);
            const formattedBookingDate = bookingDate.toLocaleDateString('ru-RU', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã —ç–∫—Å–∫—É—Ä—Å–∏–∏
            const tourDate = new Date(tour.date);
            const formattedTourDate = tourDate.toLocaleDateString('ru-RU', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric'
            });
            
            // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –æ–ø–ª–∞—Ç—ã
            let statusClass = '';
            let statusText = '';
            
            switch (booking.paymentStatus) {
                case 'paid':
                    statusClass = 'status-paid';
                    statusText = '–û–ø–ª–∞—á–µ–Ω–æ';
                    break;
                case 'pending':
                    statusClass = 'status-pending';
                    statusText = '–û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã';
                    break;
                case 'canceled':
                    statusClass = 'status-canceled';
                    statusText = '–û—Ç–º–µ–Ω–µ–Ω–æ';
                    break;
                default:
                    statusClass = '';
                    statusText = '–°—Ç–∞—Ç—É—Å –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω';
            }
            
            verificationResult.style.display = 'block';
            verificationResult.innerHTML = `
                <h3>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏</h3>
                <div class="confirmation-details">
                    <p><strong>–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:</strong> ${booking.confirmationCode}</p>
                    <p><strong>–≠–∫—Å–∫—É—Ä—Å–∏—è:</strong> ${tour.name}</p>
                    <p><strong>–î–∞—Ç–∞ —ç–∫—Å–∫—É—Ä—Å–∏–∏:</strong> ${formattedTourDate}</p>
                    <p><strong>–í—Ä–µ–º—è:</strong> ${tour.departureTime} - ${tour.returnTime}</p>
                    <p><strong>–ò–º—è:</strong> ${booking.customerName}</p>
                    <p><strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤:</strong> ${booking.ticketsCount}</p>
                    <p><strong>–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:</strong> ${booking.totalPrice} ‚ÇΩ</p>
                    <p><strong>–î–∞—Ç–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:</strong> ${formattedBookingDate}</p>
                    <p><strong>–°—Ç–∞—Ç—É—Å –æ–ø–ª–∞—Ç—ã:</strong> <span class="${statusClass}">${statusText}</span></p>
                </div>
                <p class="confirmation-note">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è. –û–Ω –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–∏ –ø–æ—Å–∞–¥–∫–µ –Ω–∞ —Ç–µ–ø–ª–æ—Ö–æ–¥.</p>
            `;
        }
    </script>
</body>
</html>

--------------------------------------------------
